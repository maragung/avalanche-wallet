(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~89a8b29a"],{"0a74":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;const i=r(s("3fe3")),n=s("667a");class o extends i.default{constructor(t=`wss://${n.MainnetAPI}:443/ext/bc/X/events`,e){super(t,e)}send(t,e){super.send(t,e)}close(t,e){super.close(t,e)}}e.Socket=o},"0b32":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AddValidatorTx=e.AddDelegatorTx=e.WeightedValidatorTx=e.ValidatorTx=void 0;const i=r(s("399f")),n=r(s("b8ec")),o=s("f14b"),a=s("1c53"),u=s("1c35"),d=s("e7e8"),h=s("353c"),c=s("a944"),l=s("1c53"),f=s("c054"),p=s("4163"),g=n.default.getInstance(),m=f.Serialization.getInstance();class I extends o.BaseTx{constructor(t,e,s,r,i,n,o,a){super(t,e,s,r,i),this._typeName="ValidatorTx",this._typeID=void 0,this.nodeID=u.Buffer.alloc(20),this.startTime=u.Buffer.alloc(8),this.endTime=u.Buffer.alloc(8),this.nodeID=n,this.startTime=g.fromBNToBuffer(o,8),this.endTime=g.fromBNToBuffer(a,8)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{nodeID:m.encoder(this.nodeID,t,"Buffer","nodeID"),startTime:m.encoder(this.startTime,t,"Buffer","decimalString"),endTime:m.encoder(this.endTime,t,"Buffer","decimalString")})}deserialize(t,e="hex"){super.deserialize(t,e),this.nodeID=m.decoder(t["nodeID"],e,"nodeID","Buffer",20),this.startTime=m.decoder(t["startTime"],e,"decimalString","Buffer",8),this.endTime=m.decoder(t["endTime"],e,"decimalString","Buffer",8)}getNodeID(){return this.nodeID}getNodeIDString(){return(0,c.bufferToNodeIDString)(this.nodeID)}getStartTime(){return g.fromBufferToBN(this.startTime)}getEndTime(){return g.fromBufferToBN(this.endTime)}fromBuffer(t,e=0){return e=super.fromBuffer(t,e),this.nodeID=g.copyFrom(t,e,e+20),e+=20,this.startTime=g.copyFrom(t,e,e+8),e+=8,this.endTime=g.copyFrom(t,e,e+8),e+=8,e}toBuffer(){const t=super.toBuffer(),e=t.length+this.nodeID.length+this.startTime.length+this.endTime.length;return u.Buffer.concat([t,this.nodeID,this.startTime,this.endTime],e)}}e.ValidatorTx=I;class b extends I{constructor(t=h.DefaultNetworkID,e=u.Buffer.alloc(32,16),s,r,i,n,o,a,d){super(t,e,s,r,i,n,o,a),this._typeName="WeightedValidatorTx",this._typeID=void 0,this.weight=u.Buffer.alloc(8),void 0!==typeof d&&(this.weight=g.fromBNToBuffer(d,8))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{weight:m.encoder(this.weight,t,"Buffer","decimalString")})}deserialize(t,e="hex"){super.deserialize(t,e),this.weight=m.decoder(t["weight"],e,"decimalString","Buffer",8)}getWeight(){return g.fromBufferToBN(this.weight)}getWeightBuffer(){return this.weight}fromBuffer(t,e=0){return e=super.fromBuffer(t,e),this.weight=g.copyFrom(t,e,e+8),e+=8,e}toBuffer(){const t=super.toBuffer();return u.Buffer.concat([t,this.weight])}}e.WeightedValidatorTx=b;class y extends b{constructor(t=h.DefaultNetworkID,e=u.Buffer.alloc(32,16),s,r,i,n,o,a,c,l,f){super(t,e,s,r,i,n,o,a,c),this._typeName="AddDelegatorTx",this._typeID=d.PlatformVMConstants.ADDDELEGATORTX,this.stakeOuts=[],this.rewardOwners=void 0,void 0!==typeof l&&(this.stakeOuts=l),this.rewardOwners=f}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{stakeOuts:this.stakeOuts.map(e=>e.serialize(t)),rewardOwners:this.rewardOwners.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.stakeOuts=t["stakeOuts"].map(t=>{let s=new a.TransferableOutput;return s.deserialize(t,e),s}),this.rewardOwners=new l.ParseableOutput,this.rewardOwners.deserialize(t["rewardOwners"],e)}getTxType(){return this._typeID}getStakeAmount(){return this.getWeight()}getStakeAmountBuffer(){return this.weight}getStakeOuts(){return this.stakeOuts}getStakeOutsTotal(){let t=new i.default(0);for(let e=0;e<this.stakeOuts.length;e++)t=t.add(this.stakeOuts[""+e].getOutput().getAmount());return t}getRewardOwners(){return this.rewardOwners}getTotalOuts(){return[...this.getOuts(),...this.getStakeOuts()]}fromBuffer(t,e=0){e=super.fromBuffer(t,e);const s=g.copyFrom(t,e,e+4);e+=4;const r=s.readUInt32BE(0);this.stakeOuts=[];for(let i=0;i<r;i++){const s=new a.TransferableOutput;e=s.fromBuffer(t,e),this.stakeOuts.push(s)}return this.rewardOwners=new l.ParseableOutput,e=this.rewardOwners.fromBuffer(t,e),e}toBuffer(){const t=super.toBuffer();let e=t.length;const s=u.Buffer.alloc(4);s.writeUInt32BE(this.stakeOuts.length,0);let r=[super.toBuffer(),s];e+=s.length,this.stakeOuts=this.stakeOuts.sort(a.TransferableOutput.comparator());for(let n=0;n<this.stakeOuts.length;n++){let t=this.stakeOuts[""+n].toBuffer();r.push(t),e+=t.length}let i=this.rewardOwners.toBuffer();return r.push(i),e+=i.length,u.Buffer.concat(r,e)}clone(){let t=new y;return t.fromBuffer(this.toBuffer()),t}create(...t){return new y(...t)}}e.AddDelegatorTx=y;class x extends y{constructor(t=h.DefaultNetworkID,e=u.Buffer.alloc(32,16),s,r,i,n,o,a,c,l,f,g){if(super(t,e,s,r,i,n,o,a,c,l,f),this._typeName="AddValidatorTx",this._typeID=d.PlatformVMConstants.ADDVALIDATORTX,this.delegationFee=0,"number"===typeof g){if(!(g>=0&&g<=100))throw new p.DelegationFeeError("AddValidatorTx.constructor -- delegationFee must be in the range of 0 and 100, inclusively.");this.delegationFee=parseFloat(g.toFixed(4))}}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{delegationFee:m.encoder(this.getDelegationFeeBuffer(),t,"Buffer","decimalString",4)})}deserialize(t,e="hex"){super.deserialize(t,e);let s=m.decoder(t["delegationFee"],e,"decimalString","Buffer",4);this.delegationFee=s.readUInt32BE(0)/x.delegatorMultiplier}getTxType(){return this._typeID}getDelegationFee(){return this.delegationFee}getDelegationFeeBuffer(){let t=u.Buffer.alloc(4),e=parseFloat(this.delegationFee.toFixed(4))*x.delegatorMultiplier;return t.writeUInt32BE(e,0),t}fromBuffer(t,e=0){e=super.fromBuffer(t,e);let s=g.copyFrom(t,e,e+4);return e+=4,this.delegationFee=s.readUInt32BE(0)/x.delegatorMultiplier,e}toBuffer(){let t=super.toBuffer(),e=this.getDelegationFeeBuffer();return u.Buffer.concat([t,e])}}e.AddValidatorTx=x,x.delegatorMultiplier=1e4},"13ee":function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.JRPCAPI=void 0;const i=s("667a"),n=s("5af3");class o extends n.APIBase{constructor(t,e,s="2.0"){super(t,e),this.jrpcVersion="2.0",this.rpcID=1,this.callMethod=(t,e,s,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseURL,o={};o.id=this.rpcID,o.method=t,e?o.params=e:"1.0"===this.jrpcVersion&&(o.params=[]),"1.0"!==this.jrpcVersion&&(o.jsonrpc=this.jrpcVersion);let a={"Content-Type":"application/json;charset=UTF-8"};n&&(a=Object.assign(Object.assign({},a),n)),s=this.core.getURL();const u={baseURL:s,responseType:"json",adapter:"undefined"!==typeof fetch?i.fetchAdapter:void 0},d=yield this.core.post(r,{},JSON.stringify(o),a,u);if(d.status>=200&&d.status<300&&(this.rpcID+=1,"string"===typeof d.data&&(d.data=JSON.parse(d.data)),"object"===typeof d.data&&(null===d.data||"error"in d.data)))throw new Error(d.data.error.message);return d})),this.getRPCID=()=>this.rpcID,this.jrpcVersion=s,this.rpcID=1}}e.JRPCAPI=o},1528:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InfoAPI=void 0;const n=s("13ee"),o=i(s("399f"));class a extends n.JRPCAPI{constructor(t,e="/ext/info"){super(t,e),this.getBlockchainID=t=>r(this,void 0,void 0,(function*(){const e={alias:t},s=yield this.callMethod("info.getBlockchainID",e);return s.data.result.blockchainID})),this.getNodeIP=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("info.getBlockchainID");return t.data.result.ip})),this.getNetworkID=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("info.getNetworkID");return t.data.result.networkID})),this.getNetworkName=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("info.getNetworkName");return t.data.result.networkName})),this.getNodeID=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("info.getNodeID");return t.data.result.nodeID})),this.getNodeVersion=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("info.getNodeVersion");return t.data.result.version})),this.getTxFee=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("info.getTxFee");return{txFee:new o.default(t.data.result.txFee,10),creationTxFee:new o.default(t.data.result.creationTxFee,10)}})),this.isBootstrapped=t=>r(this,void 0,void 0,(function*(){const e={chain:t},s=yield this.callMethod("info.isBootstrapped",e);return s.data.result.isBootstrapped})),this.peers=(t=[])=>r(this,void 0,void 0,(function*(){const e={nodeIDs:t},s=yield this.callMethod("info.peers",e);return s.data.result.peers})),this.uptime=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("info.uptime");return t.data.result}))}}e.InfoAPI=a},"1c53":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SECPOwnerOutput=e.StakeableLockOut=e.SECPTransferOutput=e.AmountOutput=e.ParseableOutput=e.TransferableOutput=e.SelectOutputClass=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("2555"),u=s("c054"),d=s("4163"),h=n.default.getInstance(),c=u.Serialization.getInstance(),l=(t,...e)=>{if(t==o.PlatformVMConstants.SECPXFEROUTPUTID)return new m(...e);if(t==o.PlatformVMConstants.SECPOWNEROUTPUTID)return new b(...e);if(t==o.PlatformVMConstants.STAKEABLELOCKOUTID)return new I(...e);throw new d.OutputIdError("Error - SelectOutputClass: unknown outputid "+t)};e.SelectOutputClass=l;class f extends a.StandardTransferableOutput{constructor(){super(...arguments),this._typeName="TransferableOutput",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.output=(0,e.SelectOutputClass)(t["output"]["_typeID"]),this.output.deserialize(t["output"],s)}fromBuffer(t,s=0){this.assetID=h.copyFrom(t,s,s+o.PlatformVMConstants.ASSETIDLEN),s+=o.PlatformVMConstants.ASSETIDLEN;const r=h.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.output=(0,e.SelectOutputClass)(r),this.output.fromBuffer(t,s)}}e.TransferableOutput=f;class p extends a.StandardParseableOutput{constructor(){super(...arguments),this._typeName="ParseableOutput",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.output=(0,e.SelectOutputClass)(t["output"]["_typeID"]),this.output.deserialize(t["output"],s)}fromBuffer(t,s=0){const r=h.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.output=(0,e.SelectOutputClass)(r),this.output.fromBuffer(t,s)}}e.ParseableOutput=p;class g extends a.StandardAmountOutput{constructor(){super(...arguments),this._typeName="AmountOutput",this._typeID=void 0}makeTransferable(t){return new f(t,this)}select(t,...s){return(0,e.SelectOutputClass)(t,...s)}}e.AmountOutput=g;class m extends g{constructor(){super(...arguments),this._typeName="SECPTransferOutput",this._typeID=o.PlatformVMConstants.SECPXFEROUTPUTID}getOutputID(){return this._typeID}create(...t){return new m(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}}e.SECPTransferOutput=m;class I extends g{constructor(t,e,s,r,i,n){super(t,e,s,r),this._typeName="StakeableLockOut",this._typeID=o.PlatformVMConstants.STAKEABLELOCKOUTID,"undefined"!==typeof i&&(this.stakeableLocktime=h.fromBNToBuffer(i,8)),"undefined"!==typeof n&&(this.transferableOutput=n,this.synchronize())}serialize(t="hex"){let e=super.serialize(t),s=Object.assign(Object.assign({},e),{stakeableLocktime:c.encoder(this.stakeableLocktime,t,"Buffer","decimalString",8),transferableOutput:this.transferableOutput.serialize(t)});return delete s["addresses"],delete s["locktime"],delete s["threshold"],delete s["amount"],s}deserialize(t,e="hex"){t["addresses"]=[],t["locktime"]="0",t["threshold"]="1",t["amount"]="99",super.deserialize(t,e),this.stakeableLocktime=c.decoder(t["stakeableLocktime"],e,"decimalString","Buffer",8),this.transferableOutput=new p,this.transferableOutput.deserialize(t["transferableOutput"],e),this.synchronize()}synchronize(){let t=this.transferableOutput.getOutput();this.addresses=t.getAddresses().map(t=>{let e=new a.Address;return e.fromBuffer(t),e}),this.numaddrs=i.Buffer.alloc(4),this.numaddrs.writeUInt32BE(this.addresses.length,0),this.locktime=h.fromBNToBuffer(t.getLocktime(),8),this.threshold=i.Buffer.alloc(4),this.threshold.writeUInt32BE(t.getThreshold(),0),this.amount=h.fromBNToBuffer(t.getAmount(),8),this.amountValue=t.getAmount()}getStakeableLocktime(){return h.fromBufferToBN(this.stakeableLocktime)}getTransferableOutput(){return this.transferableOutput}makeTransferable(t){return new f(t,this)}select(t,...s){return(0,e.SelectOutputClass)(t,...s)}fromBuffer(t,e=0){return this.stakeableLocktime=h.copyFrom(t,e,e+8),e+=8,this.transferableOutput=new p,e=this.transferableOutput.fromBuffer(t,e),this.synchronize(),e}toBuffer(){let t=this.transferableOutput.toBuffer();const e=this.stakeableLocktime.length+t.length,s=[this.stakeableLocktime,t];return i.Buffer.concat(s,e)}getOutputID(){return this._typeID}create(...t){return new I(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}}e.StakeableLockOut=I;class b extends a.Output{constructor(){super(...arguments),this._typeName="SECPOwnerOutput",this._typeID=o.PlatformVMConstants.SECPOWNEROUTPUTID}getOutputID(){return this._typeID}makeTransferable(t){return new f(t,this)}create(...t){return new b(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}select(t,...s){return(0,e.SelectOutputClass)(t,...s)}}e.SECPOwnerOutput=b},2555:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseNFTOutput=e.StandardAmountOutput=e.StandardTransferableOutput=e.StandardParseableOutput=e.Output=e.OutputOwners=e.Address=void 0;const i=s("1c35"),n=r(s("399f")),o=r(s("b8ec")),a=s("286d"),u=s("a944"),d=s("c054"),h=s("4163"),c=o.default.getInstance(),l=d.Serialization.getInstance();class f extends a.NBytes{constructor(){super(),this._typeName="Address",this._typeID=void 0,this.bytes=i.Buffer.alloc(20),this.bsize=20}toString(){return c.cb58Encode(this.toBuffer())}fromString(t){const e=c.b58ToBuffer(t);if(24===e.length&&c.validateChecksum(e)){const t=c.copyFrom(e,0,e.length-4);20===t.length&&(this.bytes=t)}else{if(24===e.length)throw new h.ChecksumError("Error - Address.fromString: invalid checksum on address");if(20!==e.length)throw new h.AddressError("Error - Address.fromString: invalid address");this.bytes=e}return this.getSize()}clone(){let t=new f;return t.fromBuffer(this.toBuffer()),t}create(...t){return new f}}e.Address=f,f.comparator=()=>(t,e)=>i.Buffer.compare(t.toBuffer(),e.toBuffer());class p extends d.Serializable{constructor(t,e,s){if(super(),this._typeName="OutputOwners",this._typeID=void 0,this.locktime=i.Buffer.alloc(8),this.threshold=i.Buffer.alloc(4),this.numaddrs=i.Buffer.alloc(4),this.addresses=[],this.getThreshold=()=>this.threshold.readUInt32BE(0),this.getLocktime=()=>c.fromBufferToBN(this.locktime),this.getAddresses=()=>{const t=[];for(let e=0;e<this.addresses.length;e++)t.push(this.addresses[""+e].toBuffer());return t},this.getAddressIdx=t=>{for(let e=0;e<this.addresses.length;e++)if(this.addresses[""+e].toBuffer().toString("hex")===t.toString("hex"))return e;return-1},this.getAddress=t=>{if(t<this.addresses.length)return this.addresses[""+t].toBuffer();throw new h.AddressIndexError("Error - Output.getAddress: idx out of range")},this.meetsThreshold=(t,e)=>{let s;s="undefined"===typeof e?(0,u.UnixNow)():e;const r=this.getSpenders(t,s),i=this.threshold.readUInt32BE(0);return r.length>=i},this.getSpenders=(t,e)=>{const s=[];let r;r="undefined"===typeof e?(0,u.UnixNow)():e;const i=c.fromBufferToBN(this.locktime);if(r.lte(i))return s;const n=this.threshold.readUInt32BE(0);for(let o=0;o<this.addresses.length&&s.length<n;o++)for(let e=0;e<t.length&&s.length<n;e++)t[""+e].toString("hex")===this.addresses[""+o].toBuffer().toString("hex")&&s.push(t[""+e]);return s},"undefined"!==typeof t&&t.length){const e=[];for(let s=0;s<t.length;s++)e[""+s]=new f,e[""+s].fromBuffer(t[""+s]);this.addresses=e,this.addresses.sort(f.comparator()),this.numaddrs.writeUInt32BE(this.addresses.length,0)}void 0!==typeof s&&this.threshold.writeUInt32BE(s||1,0),"undefined"!==typeof e&&(this.locktime=c.fromBNToBuffer(e,8))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{locktime:l.encoder(this.locktime,t,"Buffer","decimalString",8),threshold:l.encoder(this.threshold,t,"Buffer","decimalString",4),addresses:this.addresses.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.locktime=l.decoder(t["locktime"],e,"decimalString","Buffer",8),this.threshold=l.decoder(t["threshold"],e,"decimalString","Buffer",4),this.addresses=t["addresses"].map(t=>{let s=new f;return s.deserialize(t,e),s}),this.numaddrs=i.Buffer.alloc(4),this.numaddrs.writeUInt32BE(this.addresses.length,0)}fromBuffer(t,e=0){this.locktime=c.copyFrom(t,e,e+8),e+=8,this.threshold=c.copyFrom(t,e,e+4),e+=4,this.numaddrs=c.copyFrom(t,e,e+4),e+=4;const s=this.numaddrs.readUInt32BE(0);this.addresses=[];for(let r=0;r<s;r++){const s=new f;e=s.fromBuffer(t,e),this.addresses.push(s)}return this.addresses.sort(f.comparator()),e}toBuffer(){this.addresses.sort(f.comparator()),this.numaddrs.writeUInt32BE(this.addresses.length,0);let t=this.locktime.length+this.threshold.length+this.numaddrs.length;const e=[this.locktime,this.threshold,this.numaddrs];for(let s=0;s<this.addresses.length;s++){const r=this.addresses[""+s].toBuffer();e.push(r),t+=r.length}return i.Buffer.concat(e,t)}toString(){return c.bufferToB58(this.toBuffer())}}e.OutputOwners=p,p.comparator=()=>(t,e)=>{const s=i.Buffer.alloc(4);s.writeUInt32BE(t.getOutputID(),0);const r=t.toBuffer(),n=i.Buffer.alloc(4);n.writeUInt32BE(e.getOutputID(),0);const o=e.toBuffer(),a=i.Buffer.concat([s,r],s.length+r.length),u=i.Buffer.concat([n,o],n.length+o.length);return i.Buffer.compare(a,u)};class g extends p{constructor(){super(...arguments),this._typeName="Output",this._typeID=void 0}}e.Output=g;class m extends d.Serializable{constructor(t){super(),this._typeName="StandardParseableOutput",this._typeID=void 0,this.getOutput=()=>this.output,t instanceof g&&(this.output=t)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{output:this.output.serialize(t)})}toBuffer(){const t=this.output.toBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.output.getOutputID(),0);const s=[e,t];return i.Buffer.concat(s,e.length+t.length)}}e.StandardParseableOutput=m,m.comparator=()=>(t,e)=>{const s=t.toBuffer(),r=e.toBuffer();return i.Buffer.compare(s,r)};class I extends m{constructor(t,e){super(e),this._typeName="StandardTransferableOutput",this._typeID=void 0,this.assetID=void 0,this.getAssetID=()=>this.assetID,"undefined"!==typeof t&&(this.assetID=t)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{assetID:l.encoder(this.assetID,t,"Buffer","cb58")})}deserialize(t,e="hex"){super.deserialize(t,e),this.assetID=l.decoder(t["assetID"],e,"cb58","Buffer",32)}toBuffer(){const t=super.toBuffer(),e=[this.assetID,t];return i.Buffer.concat(e,this.assetID.length+t.length)}}e.StandardTransferableOutput=I;class b extends g{constructor(t,e,s,r){super(e,s,r),this._typeName="StandardAmountOutput",this._typeID=void 0,this.amount=i.Buffer.alloc(8),this.amountValue=new n.default(0),"undefined"!==typeof t&&(this.amountValue=t.clone(),this.amount=c.fromBNToBuffer(t,8))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{amount:l.encoder(this.amount,t,"Buffer","decimalString",8)})}deserialize(t,e="hex"){super.deserialize(t,e),this.amount=l.decoder(t["amount"],e,"decimalString","Buffer",8),this.amountValue=c.fromBufferToBN(this.amount)}getAmount(){return this.amountValue.clone()}fromBuffer(t,e=0){return this.amount=c.copyFrom(t,e,e+8),this.amountValue=c.fromBufferToBN(this.amount),e+=8,super.fromBuffer(t,e)}toBuffer(){const t=super.toBuffer(),e=this.amount.length+t.length;this.numaddrs.writeUInt32BE(this.addresses.length,0);const s=[this.amount,t];return i.Buffer.concat(s,e)}}e.StandardAmountOutput=b;class y extends g{constructor(){super(...arguments),this._typeName="BaseNFTOutput",this._typeID=void 0,this.groupID=i.Buffer.alloc(4),this.getGroupID=()=>this.groupID.readUInt32BE(0)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{groupID:l.encoder(this.groupID,t,"Buffer","decimalString",4)})}deserialize(t,e="hex"){super.deserialize(t,e),this.groupID=l.decoder(t["groupID"],e,"decimalString","Buffer",4)}}e.BaseNFTOutput=y},"25d6":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UTXOSet=e.AssetAmountDestination=e.UTXO=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("399f")),a=s("1c53"),u=s("872c"),d=s("a944"),h=s("c09e"),c=s("e7e8"),l=s("e549"),f=s("d7cd"),p=s("353c"),g=s("8918"),m=s("f14b"),I=s("6ed7"),b=s("0b32"),y=s("5ab8"),x=s("c054"),B=s("4163"),D=s("c59b"),T=s("9da3"),w=n.default.getInstance(),S=x.Serialization.getInstance();class O extends h.StandardUTXO{constructor(){super(...arguments),this._typeName="UTXO",this._typeID=void 0}deserialize(t,e="hex"){super.deserialize(t,e),this.output=(0,a.SelectOutputClass)(t["output"]["_typeID"]),this.output.deserialize(t["output"],e)}fromBuffer(t,e=0){this.codecID=w.copyFrom(t,e,e+2),e+=2,this.txid=w.copyFrom(t,e,e+32),e+=32,this.outputidx=w.copyFrom(t,e,e+4),e+=4,this.assetID=w.copyFrom(t,e,e+32),e+=32;const s=w.copyFrom(t,e,e+4).readUInt32BE(0);return e+=4,this.output=(0,a.SelectOutputClass)(s),this.output.fromBuffer(t,e)}fromString(t){return this.fromBuffer(w.cb58Decode(t))}toString(){return w.cb58Encode(this.toBuffer())}clone(){const t=new O;return t.fromBuffer(this.toBuffer()),t}create(t=c.PlatformVMConstants.LATESTCODEC,e,s,r,i){return new O(t,e,s,r,i)}}e.UTXO=O;class A extends I.StandardAssetAmountDestination{}e.AssetAmountDestination=A;class v extends h.StandardUTXOSet{constructor(){super(...arguments),this._typeName="UTXOSet",this._typeID=void 0,this.getConsumableUXTO=(t=(0,d.UnixNow)(),e=!1)=>this.getAllUTXOs().filter(s=>{if(e)return!0;const r=s.getOutput();if(!(r instanceof a.StakeableLockOut))return!0;const i=r;return!!i.getStakeableLocktime().lt(t)}),this.getMinimumSpendable=(t,e=(0,d.UnixNow)(),s=new o.default(0),r=1,i=!1)=>{let n=this.getConsumableUXTO(e,i),h=[];i&&(n.forEach(t=>{22===t.getOutput().getTypeID()&&h.push(t)}),h.sort((t,e)=>{let s=t.getOutput(),r=e.getOutput();return r.getStakeableLocktime().toNumber()-s.getStakeableLocktime().toNumber()}),n.forEach(t=>{7===t.getOutput().getTypeID()&&h.push(t)}),n=h);const c={};if(n.forEach((s,r)=>{const i=s.getAssetID(),n=i.toString("hex"),o=t.getSenders(),d=s.getOutput();if(!(d instanceof a.AmountOutput)||!t.assetExists(n)||!d.meetsThreshold(o,e))return;const h=t.getAssetAmount(n);if(h.isFinished())return;n in c||(c[""+n]={lockedStakeable:[],unlocked:[]});const l=d,f=l.getAmount();let p=new u.SECPTransferInput(f),g=!1;if(l instanceof a.StakeableLockOut){const t=l,s=t.getStakeableLocktime();s.gt(e)&&(p=new u.StakeableLockIn(f,s,new u.ParseableInput(p)),g=!0)}h.spendAmount(f,g),g?c[""+n].lockedStakeable.push(l):c[""+n].unlocked.push(l);const m=l.getSpenders(o,e);m.forEach(t=>{const e=l.getAddressIdx(t);if(-1===e)throw new B.AddressError("Error - UTXOSet.getMinimumSpendable: no such address in output: "+t);p.addSignatureIdx(e,t)});const I=s.getTxID(),b=s.getOutputIdx(),y=new u.TransferableInput(I,b,i,p);t.addInput(y)}),!t.canComplete())return new B.InsufficientFundsError("Error - UTXOSet.getMinimumSpendable: insufficient funds to create the transaction");const l=new o.default(0),f=t.getAmounts();f.forEach(e=>{const i=e.getChange(),n=e.getStakeableLockChange(),o=n?i:l.clone(),u=e.getAssetID(),d=e.getAssetIDString(),h=c[""+d].lockedStakeable;h.forEach((e,s)=>{const r=e.getStakeableLocktime(),i=e.getTransferableOutput(),n=i.getOutput();let d=n.getAmount();if(s==h.length-1&&o.gt(l)){d=d.sub(o);const s=(0,a.SelectOutputClass)(n.getOutputID(),o,n.getAddresses(),n.getLocktime(),n.getThreshold());let i=(0,a.SelectOutputClass)(e.getOutputID(),o,n.getAddresses(),n.getLocktime(),n.getThreshold(),r,new a.ParseableOutput(s));const h=new a.TransferableOutput(u,i);t.addChange(h)}const c=(0,a.SelectOutputClass)(n.getOutputID(),d,n.getAddresses(),n.getLocktime(),n.getThreshold()),f=(0,a.SelectOutputClass)(e.getOutputID(),d,n.getAddresses(),n.getLocktime(),n.getThreshold(),r,new a.ParseableOutput(c)),p=new a.TransferableOutput(u,f);t.addOutput(p)});const f=n?l.clone():i;if(f.gt(l)){const e=new a.SECPTransferOutput(f,t.getChangeAddresses(),l.clone(),1),s=new a.TransferableOutput(u,e);t.addChange(s)}const p=e.getSpent(),g=e.getStakeableLockSpent(),m=p.sub(g),I=e.getBurn(),b=m.sub(I),y=b.sub(f);if(y.gt(l)){const e=new a.SECPTransferOutput(y,t.getDestinations(),s,r),i=new a.TransferableOutput(u,e);t.addOutput(i)}})},this.buildBaseTx=(t,e,s,r,i,n,a,u,h,c,f=(0,d.UnixNow)(),p=new o.default(0),g=1)=>{if(g>i.length)throw new B.ThresholdError("Error - UTXOSet.buildBaseTx: threshold is greater than number of addresses");"undefined"===typeof a&&(a=i),"undefined"===typeof h&&(h=r);const I=new o.default(0);if(s.eq(I))return;const b=new A(i,n,a);r.toString("hex")===h.toString("hex")?b.addAssetAmount(r,s,u):(b.addAssetAmount(r,s,I),this._feeCheck(u,h)&&b.addAssetAmount(h,I,u));let y=[],x=[];const D=this.getMinimumSpendable(b,f,p,g);if("undefined"!==typeof D)throw D;y=b.getInputs(),x=b.getAllOutputs();const T=new m.BaseTx(t,e,x,y,c);return new l.UnsignedTx(T)},this.buildImportTx=(t,e,s,r,i,n,h,c,f,p,m=(0,d.UnixNow)(),I=new o.default(0),b=1)=>{const y=new o.default(0);let x=[],D=[];"undefined"===typeof c&&(c=y.clone());const T=[];let w=new o.default(0),S=f.toString("hex");for(let o=0;o<n.length;o++){const t=n[""+o],e=t.getAssetID(),r=t.getOutput();let i=r.getAmount().clone(),d=i.clone(),h=e.toString("hex");"undefined"!==typeof f&&c.gt(y)&&w.lt(c)&&h===S&&(w=w.add(d),w.gte(c)?(d=w.sub(c),w=c.clone()):d=y.clone());const l=t.getTxID(),p=t.getOutputIdx(),g=new u.SECPTransferInput(i),x=new u.TransferableInput(l,p,e,g),O=r.getAddresses(),A=r.getSpenders(O,m);for(let s=0;s<A.length;s++){const t=r.getAddressIdx(A[""+s]);if(-1===t)throw new B.AddressError("Error - UTXOSet.buildImportTx: no such address in output: "+A[""+s]);x.getInput().addSignatureIdx(t,A[""+s])}if(T.push(x),d.gt(y)){const t=(0,a.SelectOutputClass)(r.getOutputID(),d,s,I,b),i=new a.TransferableOutput(e,t);D.push(i)}}let O=c.sub(w);if(O.gt(y)&&this._feeCheck(O,f)){const t=new A(s,r,i);t.addAssetAmount(f,y,O);const e=this.getMinimumSpendable(t,m,I,b);if("undefined"!==typeof e)throw e;x=t.getInputs(),D=t.getAllOutputs()}const v=new g.ImportTx(t,e,D,x,p,h,T);return new l.UnsignedTx(v)},this.buildExportTx=(t,e,s,r,i,n,a,u,h,c,g,m=(0,d.UnixNow)(),I=new o.default(0),b=1)=>{let y=[],x=[],D=[];"undefined"===typeof a&&(a=i);const T=new o.default(0);if(s.eq(T))return;if("undefined"===typeof c)c=r;else if(c.toString("hex")!==r.toString("hex"))throw new B.FeeAssetError("Error - UTXOSet.buildExportTx: feeAssetID must match avaxAssetID");"undefined"===typeof u&&(u=w.cb58Decode(p.Defaults.network[""+t].X["blockchainID"]));const S=new A(i,n,a);r.toString("hex")===c.toString("hex")?S.addAssetAmount(r,s,h):(S.addAssetAmount(r,s,T),this._feeCheck(h,c)&&S.addAssetAmount(c,T,h));const O=this.getMinimumSpendable(S,m,I,b);if("undefined"!==typeof O)throw O;y=S.getInputs(),x=S.getChangeOutputs(),D=S.getOutputs();const v=new f.ExportTx(t,e,x,y,g,u,D);return new l.UnsignedTx(v)},this.buildAddSubnetValidatorTx=(t=p.DefaultNetworkID,e,s,r,i,n,a,u,h,c,f,g,m=(0,d.UnixNow)(),I=[])=>{let b=[],y=[];const x=new o.default(0),B=(0,d.UnixNow)();if(n.lt(B)||a.lte(n))throw new Error("UTXOSet.buildAddSubnetValidatorTx -- startTime must be in the future and endTime must come after startTime");if(this._feeCheck(c,f)){const t=new A(s,s,r);t.addAssetAmount(f,x,c);const e=this.getMinimumSpendable(t,m);if("undefined"!==typeof e)throw e;b=t.getInputs(),y=t.getAllOutputs()}const D=new T.AddSubnetValidatorTx(t,e,y,b,g,i,n,a,u,h);return I.forEach(t=>{D.addSignatureIdx(t[0],t[1])}),new l.UnsignedTx(D)},this.buildAddDelegatorTx=(t=p.DefaultNetworkID,e,s,r,i,n,u,h,c,f,g,m,I,y,x,D,T=(0,d.UnixNow)())=>{let w=[],S=[],O=[];const v=new o.default(0),k=(0,d.UnixNow)();if(h.lt(k)||c.lte(h))throw new B.TimeError("UTXOSet.buildAddDelegatorTx -- startTime must be in the future and endTime must come after startTime");const _=new A(r,i,n);s.toString("hex")===x.toString("hex")?_.addAssetAmount(s,f,y):(_.addAssetAmount(s,f,v),this._feeCheck(y,x)&&_.addAssetAmount(x,v,y));const E=this.getMinimumSpendable(_,T,void 0,void 0,!0);if("undefined"!==typeof E)throw E;w=_.getInputs(),S=_.getChangeOutputs(),O=_.getOutputs();const C=new a.SECPOwnerOutput(I,g,m),P=new b.AddDelegatorTx(t,e,S,w,D,u,h,c,f,O,new a.ParseableOutput(C));return new l.UnsignedTx(P)},this.buildAddValidatorTx=(t=p.DefaultNetworkID,e,s,r,i,n,u,h,c,f,g,m,I,y,x,D,T,w=(0,d.UnixNow)())=>{let S=[],O=[],v=[];const k=new o.default(0),_=(0,d.UnixNow)();if(h.lt(_)||c.lte(h))throw new B.TimeError("UTXOSet.buildAddValidatorTx -- startTime must be in the future and endTime must come after startTime");if(y>100||y<0)throw new B.TimeError("UTXOSet.buildAddValidatorTx -- startTime must be in the range of 0 to 100, inclusively");const E=new A(r,i,n);s.toString("hex")===D.toString("hex")?E.addAssetAmount(s,f,x):(E.addAssetAmount(s,f,k),this._feeCheck(x,D)&&E.addAssetAmount(D,k,x));const C=this.getMinimumSpendable(E,w,void 0,void 0,!0);if("undefined"!==typeof C)throw C;S=E.getInputs(),O=E.getChangeOutputs(),v=E.getOutputs();const P=new a.SECPOwnerOutput(I,g,m),U=new b.AddValidatorTx(t,e,O,S,T,u,h,c,f,v,new a.ParseableOutput(P),y);return new l.UnsignedTx(U)},this.buildCreateSubnetTx=(t=p.DefaultNetworkID,e,s,r,i,n,u,h,c,f=(0,d.UnixNow)())=>{const g=new o.default(0);let m=[],I=[];if(this._feeCheck(u,h)){const t=new A(s,s,r);t.addAssetAmount(h,g,u);const e=this.getMinimumSpendable(t,f,void 0,void 0);if("undefined"!==typeof e)throw e;m=t.getInputs(),I=t.getAllOutputs()}const b=new o.default(0),x=new a.SECPOwnerOutput(i,b,n),B=new y.CreateSubnetTx(t,e,I,m,c,x);return new l.UnsignedTx(B)},this.buildCreateChainTx=(t=p.DefaultNetworkID,e,s,r,i,n,a,u,h,c,f,g,m=(0,d.UnixNow)(),I=[])=>{const b=new o.default(0);let y=[],x=[];if(this._feeCheck(c,f)){const t=new A(s,s,r);t.addAssetAmount(f,b,c);const e=this.getMinimumSpendable(t,m,void 0,void 0);if("undefined"!==typeof e)throw e;y=t.getInputs(),x=t.getAllOutputs()}const B=new D.CreateChainTx(t,e,x,y,g,i,n,a,u,h);return I.forEach(t=>{B.addSignatureIdx(t[0],t[1])}),new l.UnsignedTx(B)}}deserialize(t,e="hex"){super.deserialize(t,e);let s={};for(let i in t["utxos"]){let r=S.decoder(i,e,"base58","base58");s[""+r]=new O,s[""+r].deserialize(t["utxos"][""+i],e)}let r={};for(let i in t["addressUTXOs"]){let s=S.decoder(i,e,"cb58","hex"),n={};for(let r in t["addressUTXOs"][""+i]){let s=S.decoder(r,e,"base58","base58");n[""+s]=S.decoder(t["addressUTXOs"][""+i][""+r],e,"decimalString","BN")}r[""+s]=n}this.utxos=s,this.addressUTXOs=r}parseUTXO(t){const e=new O;if("string"===typeof t)e.fromBuffer(w.cb58Decode(t));else{if(!(t instanceof h.StandardUTXO))throw new B.UTXOError("Error - UTXO.parseUTXO: utxo parameter is not a UTXO or string");e.fromBuffer(t.toBuffer())}return e}create(...t){return new v}clone(){const t=this.create(),e=this.getAllUTXOs();return t.addArray(e),t}_feeCheck(t,e){return"undefined"!==typeof t&&"undefined"!==typeof e&&t.gt(new o.default(0))&&e instanceof i.Buffer}}e.UTXOSet=v},"286d":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NBytes=void 0;const i=r(s("b8ec")),n=s("c054"),o=s("4163"),a=i.default.getInstance(),u=n.Serialization.getInstance();class d extends n.Serializable{constructor(){super(...arguments),this._typeName="NBytes",this._typeID=void 0,this.getSize=()=>this.bsize}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{bsize:u.encoder(this.bsize,t,"number","decimalString",4),bytes:u.encoder(this.bytes,t,"Buffer","hex",this.bsize)})}deserialize(t,e="hex"){super.deserialize(t,e),this.bsize=u.decoder(t["bsize"],e,"decimalString","number",4),this.bytes=u.decoder(t["bytes"],e,"hex","Buffer",this.bsize)}fromString(t){try{this.fromBuffer(a.b58ToBuffer(t))}catch(e){const t="Error - NBytes.fromString: "+e;throw new Error(t)}return this.bsize}fromBuffer(t,e=0){try{if(t.length-e<this.bsize)throw new o.BufferSizeError("Error - NBytes.fromBuffer: not enough space available in buffer.");this.bytes=a.copyFrom(t,e,e+this.bsize)}catch(s){const t="Error - NBytes.fromBuffer: "+s;throw new Error(t)}return e+this.bsize}toBuffer(){return this.bytes}toString(){return a.bufferToB58(this.toBuffer())}}e.NBytes=d},3241:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(e,s);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,i)}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("f89e"),e)},"350d":function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(e,s);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,i)}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)"default"!==s&&Object.prototype.hasOwnProperty.call(t,s)&&r(e,t,s);return i(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SECP256k1KeyChain=e.SECP256k1KeyPair=void 0;const a=s("1c35"),u=n(s("3337")),d=o(s("98e6")),h=o(s("b8ec")),c=s("5e96"),l=s("4163"),f=s("667a"),p=u.ec,g=new p("secp256k1"),m=g.curve,I=m.n.constructor,b=h.default.getInstance(),y=f.Serialization.getInstance();class x extends c.StandardKeyPair{constructor(t,e){super(),this.chainID="",this.hrp="",this.chainID=e,this.hrp=t,this.generateKey()}_sigFromSigBuffer(t){const e=new I(b.copyFrom(t,0,32)),s=new I(b.copyFrom(t,32,64)),r=b.copyFrom(t,64,65).readUIntBE(0,1),i={r:e,s:s,recoveryParam:r};return i}generateKey(){this.keypair=g.genKeyPair(),this.privk=a.Buffer.from(this.keypair.getPrivate("hex").padStart(64,"0"),"hex"),this.pubk=a.Buffer.from(this.keypair.getPublic(!0,"hex").padStart(66,"0"),"hex")}importKey(t){this.keypair=g.keyFromPrivate(t.toString("hex"),"hex");try{return this.privk=a.Buffer.from(this.keypair.getPrivate("hex").padStart(64,"0"),"hex"),this.pubk=a.Buffer.from(this.keypair.getPublic(!0,"hex").padStart(66,"0"),"hex"),!0}catch(e){return!1}}getAddress(){return x.addressFromPublicKey(this.pubk)}getAddressString(){const t=x.addressFromPublicKey(this.pubk),e="bech32";return y.bufferToType(t,e,this.hrp,this.chainID)}static addressFromPublicKey(t){if(65===t.length&&(t=a.Buffer.from(g.keyFromPublic(t).getPublic(!0,"hex").padStart(66,"0"),"hex")),33===t.length){const e=a.Buffer.from((0,d.default)("sha256").update(t).digest()),s=a.Buffer.from((0,d.default)("ripemd160").update(e).digest());return s}throw new l.PublicKeyError("Unable to make address.")}getPrivateKeyString(){return"PrivateKey-"+b.cb58Encode(this.privk)}getPublicKeyString(){return b.cb58Encode(this.pubk)}sign(t){const e=this.keypair.sign(t,void 0,{canonical:!0}),s=a.Buffer.alloc(1);s.writeUInt8(e.recoveryParam,0);const r=a.Buffer.from(e.r.toArray("be",32)),i=a.Buffer.from(e.s.toArray("be",32)),n=a.Buffer.concat([r,i,s],65);return n}verify(t,e){const s=this._sigFromSigBuffer(e);return g.verify(t,s,this.keypair)}recover(t,e){const s=this._sigFromSigBuffer(e),r=g.recoverPubKey(t,s,s.recoveryParam);return a.Buffer.from(r.encodeCompressed())}getChainID(){return this.chainID}setChainID(t){this.chainID=t}getHRP(){return this.hrp}setHRP(t){this.hrp=t}}e.SECP256k1KeyPair=x;class B extends c.StandardKeyChain{addKey(t){super.addKey(t)}}e.SECP256k1KeyChain=B},"40a5":function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s("8d71")),o=s("5af3"),a=s("4163"),u=s("9d7b"),d=s("a944");class h{constructor(t,e,s="http"){this.networkID=0,this.hrp="",this.auth=void 0,this.headers={},this.requestConfig={},this.apis={},this.setAddress=(t,e,s="http",r="")=>{t=t.replace(/[&#,@+()$~%'":*?<>{}]/g,""),s=s.replace(/[&#,@+()$~%'":*?<>{}]/g,"");const i=["http","https"];if(!i.includes(s))throw new a.ProtocolError("Error - AvalancheCore.setAddress: Invalid protocol");this.host=t,this.port=e,this.protocol=s,this.baseEndpoint=r;let n=`${s}://${t}`;void 0!=e&&"number"===typeof e&&e>=0&&(n=`${n}:${e}`),void 0!=r&&"string"==typeof r&&r.length>0&&("/"!=r[0]&&(r="/"+r),n=`${n}${r}`),this.url=n},this.getProtocol=()=>this.protocol,this.getHost=()=>this.host,this.getIP=()=>this.host,this.getPort=()=>this.port,this.getBaseEndpoint=()=>this.baseEndpoint,this.getURL=()=>this.url,this.getHeaders=()=>this.headers,this.getRequestConfig=()=>this.requestConfig,this.getNetworkID=()=>this.networkID,this.setNetworkID=t=>{this.networkID=t,this.hrp=(0,d.getPreferredHRP)(this.networkID)},this.getHRP=()=>this.hrp,this.setHRP=t=>{this.hrp=t},this.setHeader=(t,e)=>{this.headers[""+t]=e},this.removeHeader=t=>{delete this.headers[""+t]},this.removeAllHeaders=()=>{for(const t in this.headers)Object.prototype.hasOwnProperty.call(this.headers,t)&&delete this.headers[""+t]},this.setRequestConfig=(t,e)=>{this.requestConfig[""+t]=e},this.removeRequestConfig=t=>{delete this.requestConfig[""+t]},this.removeAllRequestConfigs=()=>{for(const t in this.requestConfig)Object.prototype.hasOwnProperty.call(this.requestConfig,t)&&delete this.requestConfig[""+t]},this.setAuthToken=t=>{this.auth=t},this._setHeaders=t=>{if("object"===typeof this.headers)for(const[e,s]of Object.entries(this.headers))t[""+e]=s;return"string"===typeof this.auth&&(t.Authorization="Bearer "+this.auth),t},this.addAPI=(t,e,s,...r)=>{this.apis[""+t]="undefined"===typeof s?new e(this,void 0,...r):new e(this,s,...r)},this.api=t=>this.apis[""+t],this._request=(t,e,s,i,a={},d)=>r(this,void 0,void 0,(function*(){let r;r=d?Object.assign(Object.assign({},d),this.requestConfig):Object.assign({baseURL:this.url,responseType:"text"},this.requestConfig),r.url=e,r.method=t,r.headers=a,r.data=i,r.params=s,"undefined"!==typeof fetch&&(r.adapter=u.fetchAdapter);const h=yield n.default.request(r),c=new o.RequestResponseData(h.data,h.headers,h.status,h.statusText,h.request);return c})),this.get=(t,e,s={},r)=>this._request("GET",t,e,{},this._setHeaders(s),r),this.delete=(t,e,s={},r)=>this._request("DELETE",t,e,{},this._setHeaders(s),r),this.post=(t,e,s,r={},i)=>this._request("POST",t,e,s,this._setHeaders(r),i),this.put=(t,e,s,r={},i)=>this._request("PUT",t,e,s,this._setHeaders(r),i),this.patch=(t,e,s,r={},i)=>this._request("PATCH",t,e,s,this._setHeaders(r),i),void 0!=t&&this.setAddress(t,e,s)}}e.default=h},"49a5":function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.HealthAPI=void 0;const i=s("13ee");class n extends i.JRPCAPI{constructor(t,e="/ext/health"){super(t,e),this.health=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("health.health");return t.data.result}))}}e.HealthAPI=n},"5ab8":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateSubnetTx=void 0;const r=s("1c35"),i=s("f14b"),n=s("e7e8"),o=s("353c"),a=s("1c53"),u=s("4163");class d extends i.BaseTx{constructor(t=o.DefaultNetworkID,e=r.Buffer.alloc(32,16),s,i,a,u){super(t,e,s,i,a),this._typeName="CreateSubnetTx",this._typeID=n.PlatformVMConstants.CREATESUBNETTX,this.subnetOwners=void 0,this.subnetOwners=u}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{subnetOwners:this.subnetOwners.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.subnetOwners=new a.SECPOwnerOutput,this.subnetOwners.deserialize(t["subnetOwners"],e)}getTxType(){return this._typeID}getSubnetOwners(){return this.subnetOwners}fromBuffer(t,e=0){return e=super.fromBuffer(t,e),e+=4,this.subnetOwners=new a.SECPOwnerOutput,e=this.subnetOwners.fromBuffer(t,e),e}toBuffer(){if("undefined"===typeof this.subnetOwners||!(this.subnetOwners instanceof a.SECPOwnerOutput))throw new u.SubnetOwnerError("CreateSubnetTx.toBuffer -- this.subnetOwners is not a SECPOwnerOutput");let t=r.Buffer.alloc(4);t.writeUInt32BE(this.subnetOwners.getOutputID(),0);let e=[super.toBuffer(),t,this.subnetOwners.toBuffer()];return r.Buffer.concat(e)}}e.CreateSubnetTx=d},"5af3":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.APIBase=e.RequestResponseData=void 0;const i=r(s("96cf8"));class n{constructor(t,e,s,r,i){this.data=t,this.headers=e,this.status=s,this.statusText=r,this.request=i}}e.RequestResponseData=n;class o{constructor(t,e){this.setBaseURL=t=>{if(this.db&&this.baseURL!==t){const e=this.db.getAll();this.db.clearAll(),this.baseURL=t,this.db=i.default.getNamespace(t),this.db.setAll(e,!0)}else this.baseURL=t,this.db=i.default.getNamespace(t)},this.getBaseURL=()=>this.baseURL,this.getDB=()=>this.db,this.core=t,this.setBaseURL(e)}}e.APIBase=o},"5e96":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyChain=e.StandardKeyPair=void 0;const r=s("1c35");class i{getPrivateKey(){return this.privk}getPublicKey(){return this.pubk}}e.StandardKeyPair=i;class n{constructor(){this.keys={},this.getAddresses=()=>Object.values(this.keys).map(t=>t.getAddress()),this.getAddressStrings=()=>Object.values(this.keys).map(t=>t.getAddressString()),this.removeKey=t=>{let e;return e=t instanceof r.Buffer?t.toString("hex"):t.getAddress().toString("hex"),e in this.keys&&(delete this.keys[""+e],!0)},this.hasKey=t=>t.toString("hex")in this.keys,this.getKey=t=>this.keys[t.toString("hex")]}addKey(t){this.keys[t.getAddress().toString("hex")]=t}}e.StandardKeyChain=n},"64bb":function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(e,s);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,i)}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("1528"),e)},"67f8":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardAmountInput=e.StandardTransferableInput=e.StandardParseableInput=e.Input=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("399f")),a=s("ec51"),u=s("c054"),d=n.default.getInstance(),h=u.Serialization.getInstance();class c extends u.Serializable{constructor(){super(...arguments),this._typeName="Input",this._typeID=void 0,this.sigCount=i.Buffer.alloc(4),this.sigIdxs=[],this.getSigIdxs=()=>this.sigIdxs,this.addSignatureIdx=(t,e)=>{const s=new a.SigIdx,r=i.Buffer.alloc(4);r.writeUInt32BE(t,0),s.fromBuffer(r),s.setSource(e),this.sigIdxs.push(s),this.sigCount.writeUInt32BE(this.sigIdxs.length,0)}}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{sigIdxs:this.sigIdxs.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.sigIdxs=t["sigIdxs"].map(t=>{let s=new a.SigIdx;return s.deserialize(t,e),s}),this.sigCount.writeUInt32BE(this.sigIdxs.length,0)}fromBuffer(t,e=0){this.sigCount=d.copyFrom(t,e,e+4),e+=4;const s=this.sigCount.readUInt32BE(0);this.sigIdxs=[];for(let r=0;r<s;r++){const s=new a.SigIdx,r=d.copyFrom(t,e,e+4);s.fromBuffer(r),e+=4,this.sigIdxs.push(s)}return e}toBuffer(){this.sigCount.writeUInt32BE(this.sigIdxs.length,0);let t=this.sigCount.length;const e=[this.sigCount];for(let s=0;s<this.sigIdxs.length;s++){const r=this.sigIdxs[""+s].toBuffer();e.push(r),t+=r.length}return i.Buffer.concat(e,t)}toString(){return d.bufferToB58(this.toBuffer())}}e.Input=c,c.comparator=()=>(t,e)=>{const s=i.Buffer.alloc(4);s.writeUInt32BE(t.getInputID(),0);const r=t.toBuffer(),n=i.Buffer.alloc(4);n.writeUInt32BE(e.getInputID(),0);const o=e.toBuffer(),a=i.Buffer.concat([s,r],s.length+r.length),u=i.Buffer.concat([n,o],n.length+o.length);return i.Buffer.compare(a,u)};class l extends u.Serializable{constructor(t){super(),this._typeName="StandardParseableInput",this._typeID=void 0,this.getInput=()=>this.input,t instanceof c&&(this.input=t)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{input:this.input.serialize(t)})}toBuffer(){const t=this.input.toBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.input.getInputID(),0);const s=[e,t];return i.Buffer.concat(s,e.length+t.length)}}e.StandardParseableInput=l,l.comparator=()=>(t,e)=>{const s=t.toBuffer(),r=e.toBuffer();return i.Buffer.compare(s,r)};class f extends l{constructor(t,e,s,r){super(),this._typeName="StandardTransferableInput",this._typeID=void 0,this.txid=i.Buffer.alloc(32),this.outputidx=i.Buffer.alloc(4),this.assetID=i.Buffer.alloc(32),this.getTxID=()=>this.txid,this.getOutputIdx=()=>this.outputidx,this.getUTXOID=()=>d.bufferToB58(i.Buffer.concat([this.txid,this.outputidx])),this.getInput=()=>this.input,this.getAssetID=()=>this.assetID,"undefined"!==typeof t&&"undefined"!==typeof e&&"undefined"!==typeof s&&r instanceof c&&(this.input=r,this.txid=t,this.outputidx=e,this.assetID=s)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{txid:h.encoder(this.txid,t,"Buffer","cb58"),outputidx:h.encoder(this.outputidx,t,"Buffer","decimalString"),assetID:h.encoder(this.assetID,t,"Buffer","cb58")})}deserialize(t,e="hex"){super.deserialize(t,e),this.txid=h.decoder(t["txid"],e,"cb58","Buffer",32),this.outputidx=h.decoder(t["outputidx"],e,"decimalString","Buffer",4),this.assetID=h.decoder(t["assetID"],e,"cb58","Buffer",32)}toBuffer(){const t=super.toBuffer(),e=this.txid.length+this.outputidx.length+this.assetID.length+t.length,s=[this.txid,this.outputidx,this.assetID,t],r=i.Buffer.concat(s,e);return r}toString(){return d.bufferToB58(this.toBuffer())}}e.StandardTransferableInput=f;class p extends c{constructor(t){super(),this._typeName="StandardAmountInput",this._typeID=void 0,this.amount=i.Buffer.alloc(8),this.amountValue=new o.default(0),this.getAmount=()=>this.amountValue.clone(),t&&(this.amountValue=t.clone(),this.amount=d.fromBNToBuffer(t,8))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{amount:h.encoder(this.amount,t,"Buffer","decimalString",8)})}deserialize(t,e="hex"){super.deserialize(t,e),this.amount=h.decoder(t["amount"],e,"decimalString","Buffer",8),this.amountValue=d.fromBufferToBN(this.amount)}fromBuffer(t,e=0){return this.amount=d.copyFrom(t,e,e+8),this.amountValue=d.fromBufferToBN(this.amount),e+=8,super.fromBuffer(t,e)}toBuffer(){const t=super.toBuffer(),e=this.amount.length+t.length,s=[this.amount,t];return i.Buffer.concat(s,e)}}e.StandardAmountInput=p},"6ed7":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardAssetAmountDestination=e.AssetAmount=void 0;const i=s("1c35"),n=r(s("399f")),o=s("4163");class a{constructor(t,e,s){this.assetID=i.Buffer.alloc(32),this.amount=new n.default(0),this.burn=new n.default(0),this.spent=new n.default(0),this.stakeableLockSpent=new n.default(0),this.change=new n.default(0),this.stakeableLockChange=!1,this.finished=!1,this.getAssetID=()=>this.assetID,this.getAssetIDString=()=>this.assetID.toString("hex"),this.getAmount=()=>this.amount,this.getSpent=()=>this.spent,this.getBurn=()=>this.burn,this.getChange=()=>this.change,this.getStakeableLockSpent=()=>this.stakeableLockSpent,this.getStakeableLockChange=()=>this.stakeableLockChange,this.isFinished=()=>this.finished,this.spendAmount=(t,e=!1)=>{if(this.finished)throw new o.InsufficientFundsError("Error - AssetAmount.spendAmount: attempted to spend excess funds");this.spent=this.spent.add(t),e&&(this.stakeableLockSpent=this.stakeableLockSpent.add(t));const s=this.amount.add(this.burn);return this.spent.gte(s)&&(this.change=this.spent.sub(s),e&&(this.stakeableLockChange=!0),this.finished=!0),this.finished},this.assetID=t,this.amount="undefined"===typeof e?new n.default(0):e,this.burn="undefined"===typeof s?new n.default(0):s,this.spent=new n.default(0),this.stakeableLockSpent=new n.default(0),this.stakeableLockChange=!1}}e.AssetAmount=a;class u{constructor(t,e,s){this.amounts=[],this.destinations=[],this.senders=[],this.changeAddresses=[],this.amountkey={},this.inputs=[],this.outputs=[],this.change=[],this.addAssetAmount=(t,e,s)=>{let r=new a(t,e,s);this.amounts.push(r),this.amountkey[r.getAssetIDString()]=r},this.addInput=t=>{this.inputs.push(t)},this.addOutput=t=>{this.outputs.push(t)},this.addChange=t=>{this.change.push(t)},this.getAmounts=()=>this.amounts,this.getDestinations=()=>this.destinations,this.getSenders=()=>this.senders,this.getChangeAddresses=()=>this.changeAddresses,this.getAssetAmount=t=>this.amountkey[""+t],this.assetExists=t=>t in this.amountkey,this.getInputs=()=>this.inputs,this.getOutputs=()=>this.outputs,this.getChangeOutputs=()=>this.change,this.getAllOutputs=()=>this.outputs.concat(this.change),this.canComplete=()=>{for(let t=0;t<this.amounts.length;t++)if(!this.amounts[""+t].isFinished())return!1;return!0},this.destinations=t,this.changeAddresses=s,this.senders=e}}e.StandardAssetAmountDestination=u},"7ad6":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChain=e.KeyPair=void 0;const i=r(s("b8ec")),n=s("350d"),o=s("667a"),a=i.default.getInstance();o.Serialization.getInstance();class u extends n.SECP256k1KeyPair{clone(){let t=new u(this.hrp,this.chainID);return t.importKey(a.copyFrom(this.getPrivateKey())),t}create(...t){return 2==t.length?new u(t[0],t[1]):new u(this.hrp,this.chainID)}}e.KeyPair=u;class d extends n.SECP256k1KeyChain{constructor(t,e){super(),this.hrp="",this.chainID="",this.makeKey=()=>{let t=new u(this.hrp,this.chainID);return this.addKey(t),t},this.addKey=t=>{t.setChainID(this.chainID),super.addKey(t)},this.importKey=t=>{let e,s=new u(this.hrp,this.chainID);return e="string"===typeof t?a.cb58Decode(t.split("-")[1]):a.copyFrom(t),s.importKey(e),s.getAddress().toString("hex")in this.keys||this.addKey(s),s},this.hrp=t,this.chainID=e}create(...t){return 2==t.length?new d(t[0],t[1]):new d(this.hrp,this.chainID)}clone(){const t=new d(this.hrp,this.chainID);for(let e in this.keys)t.addKey(this.keys[""+e].clone());return t}union(t){let e=t.clone();for(let s in this.keys)e.addKey(this.keys[""+s].clone());return e}}e.KeyChain=d},"872c":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StakeableLockIn=e.SECPTransferInput=e.AmountInput=e.TransferableInput=e.ParseableInput=e.SelectInputClass=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("67f8"),u=s("c054"),d=s("4163"),h=n.default.getInstance(),c=u.Serialization.getInstance(),l=(t,...e)=>{if(t===o.PlatformVMConstants.SECPINPUTID)return new m(...e);if(t===o.PlatformVMConstants.STAKEABLELOCKINID)return new I(...e);throw new d.InputIdError("Error - SelectInputClass: unknown inputid")};e.SelectInputClass=l;class f extends a.StandardParseableInput{constructor(){super(...arguments),this._typeName="ParseableInput",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.input=(0,e.SelectInputClass)(t["input"]["_typeID"]),this.input.deserialize(t["input"],s)}fromBuffer(t,s=0){const r=h.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.input=(0,e.SelectInputClass)(r),this.input.fromBuffer(t,s)}}e.ParseableInput=f;class p extends a.StandardTransferableInput{constructor(){super(...arguments),this._typeName="TransferableInput",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.input=(0,e.SelectInputClass)(t["input"]["_typeID"]),this.input.deserialize(t["input"],s)}fromBuffer(t,s=0){this.txid=h.copyFrom(t,s,s+32),s+=32,this.outputidx=h.copyFrom(t,s,s+4),s+=4,this.assetID=h.copyFrom(t,s,s+o.PlatformVMConstants.ASSETIDLEN),s+=32;const r=h.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.input=(0,e.SelectInputClass)(r),this.input.fromBuffer(t,s)}}e.TransferableInput=p;class g extends a.StandardAmountInput{constructor(){super(...arguments),this._typeName="AmountInput",this._typeID=void 0}select(t,...s){return(0,e.SelectInputClass)(t,...s)}}e.AmountInput=g;class m extends g{constructor(){super(...arguments),this._typeName="SECPTransferInput",this._typeID=o.PlatformVMConstants.SECPINPUTID,this.getCredentialID=()=>o.PlatformVMConstants.SECPCREDENTIAL}getInputID(){return this._typeID}create(...t){return new m(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}}e.SECPTransferInput=m;class I extends g{constructor(t,e,s){super(t),this._typeName="StakeableLockIn",this._typeID=o.PlatformVMConstants.STAKEABLELOCKINID,this.getCredentialID=()=>o.PlatformVMConstants.SECPCREDENTIAL,"undefined"!==typeof e&&(this.stakeableLocktime=h.fromBNToBuffer(e,8)),"undefined"!==typeof s&&(this.transferableInput=s,this.synchronize())}serialize(t="hex"){let e=super.serialize(t),s=Object.assign(Object.assign({},e),{stakeableLocktime:c.encoder(this.stakeableLocktime,t,"Buffer","decimalString",8),transferableInput:this.transferableInput.serialize(t)});return delete s["sigIdxs"],delete s["sigCount"],delete s["amount"],s}deserialize(t,e="hex"){t["sigIdxs"]=[],t["sigCount"]="0",t["amount"]="98",super.deserialize(t,e),this.stakeableLocktime=c.decoder(t["stakeableLocktime"],e,"decimalString","Buffer",8),this.transferableInput=new f,this.transferableInput.deserialize(t["transferableInput"],e),this.synchronize()}synchronize(){let t=this.transferableInput.getInput();this.sigIdxs=t.getSigIdxs(),this.sigCount=i.Buffer.alloc(4),this.sigCount.writeUInt32BE(this.sigIdxs.length,0),this.amount=h.fromBNToBuffer(t.getAmount(),8),this.amountValue=t.getAmount()}getStakeableLocktime(){return h.fromBufferToBN(this.stakeableLocktime)}getTransferablInput(){return this.transferableInput}getInputID(){return this._typeID}fromBuffer(t,e=0){return this.stakeableLocktime=h.copyFrom(t,e,e+8),e+=8,this.transferableInput=new f,e=this.transferableInput.fromBuffer(t,e),this.synchronize(),e}toBuffer(){const t=this.transferableInput.toBuffer(),e=this.stakeableLocktime.length+t.length,s=[this.stakeableLocktime,t];return i.Buffer.concat(s,e)}create(...t){return new I(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}select(t,...s){return(0,e.SelectInputClass)(t,...s)}}e.StakeableLockIn=I},8918:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImportTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("872c"),u=s("f022"),d=s("ec51"),h=s("f14b"),c=s("353c"),l=s("c054"),f=s("4163"),p=n.default.getInstance(),g=l.Serialization.getInstance();class m extends h.BaseTx{constructor(t=c.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n,u,d){if(super(t,e,s,r,n),this._typeName="ImportTx",this._typeID=o.PlatformVMConstants.IMPORTTX,this.sourceChain=i.Buffer.alloc(32),this.numIns=i.Buffer.alloc(4),this.importIns=[],this.sourceChain=u,"undefined"!==typeof d&&Array.isArray(d)){for(let t=0;t<d.length;t++)if(!(d[""+t]instanceof a.TransferableInput))throw new f.TransferableInputError("Error - ImportTx.constructor: invalid TransferableInput in array parameter 'importIns'");this.importIns=d}}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{sourceChain:g.encoder(this.sourceChain,t,"Buffer","cb58"),importIns:this.importIns.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.sourceChain=g.decoder(t["sourceChain"],e,"cb58","Buffer",32),this.importIns=t["importIns"].map(t=>{let s=new a.TransferableInput;return s.deserialize(t,e),s}),this.numIns=i.Buffer.alloc(4),this.numIns.writeUInt32BE(this.importIns.length,0)}getTxType(){return this._typeID}fromBuffer(t,e=0){e=super.fromBuffer(t,e),this.sourceChain=p.copyFrom(t,e,e+32),e+=32,this.numIns=p.copyFrom(t,e,e+4),e+=4;const s=this.numIns.readUInt32BE(0);for(let r=0;r<s;r++){const s=new a.TransferableInput;e=s.fromBuffer(t,e),this.importIns.push(s)}return e}toBuffer(){if("undefined"===typeof this.sourceChain)throw new f.ChainIdError("ImportTx.toBuffer -- this.sourceChain is undefined");this.numIns.writeUInt32BE(this.importIns.length,0);let t=[super.toBuffer(),this.sourceChain,this.numIns];this.importIns=this.importIns.sort(a.TransferableInput.comparator());for(let e=0;e<this.importIns.length;e++)t.push(this.importIns[""+e].toBuffer());return i.Buffer.concat(t)}getImportInputs(){return this.importIns}getSourceChain(){return this.sourceChain}sign(t,e){const s=super.sign(t,e);for(let r=0;r<this.importIns.length;r++){const i=(0,u.SelectCredentialClass)(this.importIns[""+r].getInput().getCredentialID()),n=this.importIns[""+r].getInput().getSigIdxs();for(let s=0;s<n.length;s++){const r=e.getKey(n[""+s].getSource()),o=r.sign(t),a=new d.Signature;a.fromBuffer(o),i.addSignature(a)}s.push(i)}return s}clone(){let t=new m;return t.fromBuffer(this.toBuffer()),t}create(...t){return new m(...t)}}e.ImportTx=m},9206:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(e,s);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,i)}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("5af3"),e),i(s("6ed7"),e),i(s("ec51"),e),i(s("d504"),e),i(s("67f8"),e),i(s("cc9e"),e),i(s("13ee"),e),i(s("5e96"),e),i(s("286d"),e),i(s("2555"),e),i(s("f331"),e),i(s("350d"),e),i(s("ebf0"),e),i(s("c09e"),e)},9835:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},"9da3":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AddSubnetValidatorTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("ec51"),u=s("f14b"),d=s("353c"),h=s("c054"),c=s("c59b"),l=s("667a"),f=n.default.getInstance(),p=h.Serialization.getInstance();class g extends u.BaseTx{constructor(t=d.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n,a,u,h,l,p){super(t,e,s,r,n),this._typeName="AddSubnetValidatorTx",this._typeID=o.PlatformVMConstants.ADDSUBNETVALIDATORTX,this.nodeID=i.Buffer.alloc(20),this.startTime=i.Buffer.alloc(8),this.endTime=i.Buffer.alloc(8),this.weight=i.Buffer.alloc(8),this.subnetID=i.Buffer.alloc(32),this.sigCount=i.Buffer.alloc(4),this.sigIdxs=[],"undefined"!=typeof p&&(this.subnetID="string"===typeof p?f.cb58Decode(p):p),"undefined"!=typeof a&&(this.nodeID=a),"undefined"!=typeof u&&(this.startTime=f.fromBNToBuffer(u,8)),"undefined"!=typeof h&&(this.endTime=f.fromBNToBuffer(h,8)),"undefined"!=typeof l&&(this.weight=f.fromBNToBuffer(l,8));const g=new c.SubnetAuth;this.subnetAuth=g}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{subnetID:p.encoder(this.subnetID,t,"Buffer","cb58")})}deserialize(t,e="hex"){super.deserialize(t,e),this.subnetID=p.decoder(t["subnetID"],e,"cb58","Buffer",32)}getTxType(){return o.PlatformVMConstants.ADDSUBNETVALIDATORTX}getNodeID(){return this.nodeID}getNodeIDString(){return(0,l.bufferToNodeIDString)(this.nodeID)}getStartTime(){return f.fromBufferToBN(this.startTime)}getEndTime(){return f.fromBufferToBN(this.endTime)}getWeight(){return f.fromBufferToBN(this.weight)}getSubnetID(){return f.cb58Encode(this.subnetID)}getSubnetAuth(){return this.subnetAuth}fromBuffer(t,e=0){e=super.fromBuffer(t,e),this.nodeID=f.copyFrom(t,e,e+20),e+=20,this.startTime=f.copyFrom(t,e,e+8),e+=8,this.endTime=f.copyFrom(t,e,e+8),e+=8,this.weight=f.copyFrom(t,e,e+8),e+=8,this.subnetID=f.copyFrom(t,e,e+32),e+=32;const s=new c.SubnetAuth;return e+=s.fromBuffer(f.copyFrom(t,e)),this.subnetAuth=s,e}toBuffer(){const t=super.toBuffer(),e=t.length+this.nodeID.length+this.startTime.length+this.endTime.length+this.weight.length+this.subnetID.length+this.subnetAuth.toBuffer().length,s=[t,this.nodeID,this.startTime,this.endTime,this.weight,this.subnetID,this.subnetAuth.toBuffer()];return i.Buffer.concat(s,e)}clone(){const t=new g;return t.fromBuffer(this.toBuffer()),t}create(...t){return new g(...t)}addSignatureIdx(t,e){const s=i.Buffer.alloc(4);s.writeUIntBE(t,0,4),this.subnetAuth.addAddressIndex(s);const r=new a.SigIdx,n=i.Buffer.alloc(4);n.writeUInt32BE(t,0),r.fromBuffer(n),r.setSource(e),this.sigIdxs.push(r),this.sigCount.writeUInt32BE(this.sigIdxs.length,0)}getSigIdxs(){return this.sigIdxs}getCredentialID(){return o.PlatformVMConstants.SECPCREDENTIAL}sign(t,e){const s=super.sign(t,e),r=this.getSigIdxs(),i=(0,c.SelectCredentialClass)(this.getCredentialID());for(let n=0;n<r.length;n++){const s=e.getKey(r[""+n].getSource()),o=s.sign(t),u=new a.Signature;u.fromBuffer(o),i.addSignature(u)}return s.push(i),s}}e.AddSubnetValidatorTx=g},ac14:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(e,s);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,i)}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("49a5"),e)},c09e:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardUTXOSet=e.StandardUTXO=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("399f")),a=s("2555"),u=s("a944"),d=s("c054"),h=s("4163"),c=n.default.getInstance(),l=d.Serialization.getInstance();class f extends d.Serializable{constructor(t=0,e,s,r,n){super(),this._typeName="StandardUTXO",this._typeID=void 0,this.codecID=i.Buffer.alloc(2),this.txid=i.Buffer.alloc(32),this.outputidx=i.Buffer.alloc(4),this.assetID=i.Buffer.alloc(32),this.output=void 0,this.getCodecID=()=>this.codecID.readUInt8(0),this.getCodecIDBuffer=()=>this.codecID,this.getTxID=()=>this.txid,this.getOutputIdx=()=>this.outputidx,this.getAssetID=()=>this.assetID,this.getUTXOID=()=>c.bufferToB58(i.Buffer.concat([this.getTxID(),this.getOutputIdx()])),this.getOutput=()=>this.output,"undefined"!==typeof t&&this.codecID.writeUInt8(t,0),"undefined"!==typeof e&&(this.txid=e),"number"===typeof s?this.outputidx.writeUInt32BE(s,0):s instanceof i.Buffer&&(this.outputidx=s),"undefined"!==typeof r&&(this.assetID=r),"undefined"!==typeof n&&(this.output=n)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{codecID:l.encoder(this.codecID,t,"Buffer","decimalString"),txid:l.encoder(this.txid,t,"Buffer","cb58"),outputidx:l.encoder(this.outputidx,t,"Buffer","decimalString"),assetID:l.encoder(this.assetID,t,"Buffer","cb58"),output:this.output.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.codecID=l.decoder(t["codecID"],e,"decimalString","Buffer",2),this.txid=l.decoder(t["txid"],e,"cb58","Buffer",32),this.outputidx=l.decoder(t["outputidx"],e,"decimalString","Buffer",4),this.assetID=l.decoder(t["assetID"],e,"cb58","Buffer",32)}toBuffer(){const t=this.output.toBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.output.getOutputID(),0);const s=[this.codecID,this.txid,this.outputidx,this.assetID,e,t];return i.Buffer.concat(s,this.codecID.length+this.txid.length+this.outputidx.length+this.assetID.length+e.length+t.length)}}e.StandardUTXO=f;class p extends d.Serializable{constructor(){super(...arguments),this._typeName="StandardUTXOSet",this._typeID=void 0,this.utxos={},this.addressUTXOs={},this.includes=t=>{let e=void 0,s=void 0;try{e=this.parseUTXO(t),s=e.getUTXOID()}catch(r){return r instanceof Error?console.log(r.message):console.log(r),!1}return s in this.utxos},this.remove=t=>{let e=void 0;try{e=this.parseUTXO(t)}catch(i){return void(i instanceof Error?console.log(i.message):console.log(i))}const s=e.getUTXOID();if(!(s in this.utxos))return;delete this.utxos[""+s];const r=Object.keys(this.addressUTXOs);for(let n=0;n<r.length;n++)s in this.addressUTXOs[r[""+n]]&&delete this.addressUTXOs[r[""+n]][""+s];return e},this.removeArray=t=>{const e=[];for(let s=0;s<t.length;s++){const r=this.remove(t[""+s]);"undefined"!==typeof r&&e.push(r)}return e},this.getUTXO=t=>this.utxos[""+t],this.getAllUTXOs=t=>{let e=[];return e="undefined"!==typeof t&&Array.isArray(t)?t.filter(t=>this.utxos[""+t]).map(t=>this.utxos[""+t]):Object.values(this.utxos),e},this.getAllUTXOStrings=t=>{const e=[],s=Object.keys(this.utxos);if("undefined"!==typeof t&&Array.isArray(t))for(let r=0;r<t.length;r++)t[""+r]in this.utxos&&e.push(this.utxos[t[""+r]].toString());else for(const r of s)e.push(this.utxos[""+r].toString());return e},this.getUTXOIDs=(t,e=!0)=>{if("undefined"!==typeof t){const s=[],r=(0,u.UnixNow)();for(let i=0;i<t.length;i++)if(t[""+i].toString("hex")in this.addressUTXOs){const n=Object.entries(this.addressUTXOs[t[""+i].toString("hex")]);for(const[t,i]of n)(-1===s.indexOf(t)&&e&&i.lte(r)||!e)&&s.push(t)}return s}return Object.keys(this.utxos)},this.getAddresses=()=>Object.keys(this.addressUTXOs).map(t=>i.Buffer.from(t,"hex")),this.getBalance=(t,e,s)=>{const r=this.getUTXOIDs(t),i=this.getAllUTXOs(r);let n,u=new o.default(0);n="string"===typeof e?c.cb58Decode(e):e;for(let o=0;o<i.length;o++)i[""+o].getOutput()instanceof a.StandardAmountOutput&&i[""+o].getAssetID().toString("hex")===n.toString("hex")&&i[""+o].getOutput().meetsThreshold(t,s)&&(u=u.add(i[""+o].getOutput().getAmount()));return u},this.getAssetIDs=t=>{const e=new Set;let s=[];s="undefined"!==typeof t?this.getUTXOIDs(t):this.getUTXOIDs();for(let r=0;r<s.length;r++)s[""+r]in this.utxos&&!(s[""+r]in e)&&e.add(this.utxos[s[""+r]].getAssetID());return[...e]},this.merge=(t,e)=>{const s=this.create(),r=this.getAllUTXOs(e),i=t.getAllUTXOs(e),n=t=>{s.add(t)};return r.forEach(n),i.forEach(n),s},this.intersection=t=>{const e=this.getUTXOIDs(),s=t.getUTXOIDs(),r=e.filter(t=>s.includes(t));return this.merge(t,r)},this.difference=t=>{const e=this.getUTXOIDs(),s=t.getUTXOIDs(),r=e.filter(t=>!s.includes(t));return this.merge(t,r)},this.symDifference=t=>{const e=this.getUTXOIDs(),s=t.getUTXOIDs(),r=e.filter(t=>!s.includes(t)).concat(s.filter(t=>!e.includes(t)));return this.merge(t,r)},this.union=t=>this.merge(t),this.mergeByRule=(t,e)=>{let s;switch(e){case"intersection":return this.intersection(t);case"differenceSelf":return this.difference(t);case"differenceNew":return t.difference(this);case"symDifference":return this.symDifference(t);case"union":return this.union(t);case"unionMinusNew":return s=this.union(t),s.difference(t);case"unionMinusSelf":return s=this.union(t),s.difference(this);default:throw new h.MergeRuleError("Error - StandardUTXOSet.mergeByRule: bad MergeRule")}}}serialize(t="hex"){let e=super.serialize(t),s={};for(let i in this.utxos){let e=l.encoder(i,t,"base58","base58");s[""+e]=this.utxos[""+i].serialize(t)}let r={};for(let i in this.addressUTXOs){let e=l.encoder(i,t,"hex","cb58"),s={};for(let r in this.addressUTXOs[""+i]){let e=l.encoder(r,t,"base58","base58");s[""+e]=l.encoder(this.addressUTXOs[""+i][""+r],t,"BN","decimalString")}r[""+e]=s}return Object.assign(Object.assign({},e),{utxos:s,addressUTXOs:r})}add(t,e=!1){let s=void 0;try{s=this.parseUTXO(t)}catch(i){return void(i instanceof Error?console.log(i.message):console.log(i))}const r=s.getUTXOID();if(!(r in this.utxos)||!0===e){this.utxos[""+r]=s;const t=s.getOutput().getAddresses(),e=s.getOutput().getLocktime();for(let s=0;s<t.length;s++){const i=t[""+s].toString("hex");i in this.addressUTXOs||(this.addressUTXOs[""+i]={}),this.addressUTXOs[""+i][""+r]=e}return s}}addArray(t,e=!1){const s=[];for(let r=0;r<t.length;r++){let i=this.add(t[""+r],e);"undefined"!==typeof i&&s.push(i)}return s}filter(t,e){let s=this.clone(),r=this.getAllUTXOs();for(let i=0;i<r.length;i++)!1===e(r[""+i],...t)&&s.remove(r[""+i]);return s}}e.StandardUTXOSet=p},c121:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SubnetAuth=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("667a"),a=s("c59b"),u=n.default.getInstance();class d extends o.Serializable{constructor(){super(...arguments),this._typeName="SubnetAuth",this._typeID=a.PlatformVMConstants.SUBNETAUTH,this.addressIndices=[],this.numAddressIndices=i.Buffer.alloc(4)}serialize(t="hex"){let e=super.serialize(t);return Object.assign({},e)}deserialize(t,e="hex"){super.deserialize(t,e)}addAddressIndex(t){const e=this.getNumAddressIndices();this.numAddressIndices.writeUIntBE(e+1,0,4),this.addressIndices.push(t)}getNumAddressIndices(){return this.numAddressIndices.readUIntBE(0,4)}getAddressIndices(){return this.addressIndices}fromBuffer(t,e=0){e+=4,this.numAddressIndices=u.copyFrom(t,e,e+4),e+=4;for(let s=0;s<this.getNumAddressIndices();s++)this.addressIndices.push(u.copyFrom(t,e,e+4)),e+=4;return e}toBuffer(){const t=i.Buffer.alloc(4);t.writeUIntBE(this._typeID,0,4);const e=i.Buffer.alloc(4);e.writeIntBE(this.addressIndices.length,0,4);const s=[t,e];let r=t.length+e.length;return this.addressIndices.forEach((t,e)=>{r+=4,s.push(this.addressIndices[""+e])}),i.Buffer.concat(s,r)}}e.SubnetAuth=d},c39f:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(e,s);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,i)}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("fbcd"),e)},c59b:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(e,s);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,i)}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("d4e4"),e),i(s("9da3"),e),i(s("f14b"),e),i(s("e7e8"),e),i(s("ed29"),e),i(s("5ab8"),e),i(s("f022"),e),i(s("d7cd"),e),i(s("8918"),e),i(s("872c"),e),i(s("9835"),e),i(s("7ad6"),e),i(s("1c53"),e),i(s("c121"),e),i(s("e549"),e),i(s("25d6"),e),i(s("0b32"),e)},cc9e:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},d064:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MetricsAPI=void 0;const i=s("f331");class n extends i.RESTAPI{constructor(t,e="/ext/metrics"){super(t,e),this.axConf=()=>({baseURL:`${this.core.getProtocol()}://${this.core.getHost()}:${this.core.getPort()}`,responseType:"text"}),this.getMetrics=()=>r(this,void 0,void 0,(function*(){const t=yield this.post("");return t.data}))}}e.MetricsAPI=n},d4e4:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformVMAPI=void 0;const n=s("1c35"),o=i(s("399f")),a=s("13ee"),u=i(s("b8ec")),d=s("7ad6"),h=s("353c"),c=s("e7e8"),l=s("e549"),f=s("5ef4"),p=s("a944"),g=s("25d6"),m=s("4163"),I=s("1c53"),b=s("667a"),y=u.default.getInstance(),x=b.Serialization.getInstance();class B extends a.JRPCAPI{constructor(t,e="/ext/bc/P"){super(t,e),this.keychain=new d.KeyChain("",""),this.blockchainID=h.PlatformChainID,this.blockchainAlias=void 0,this.AVAXAssetID=void 0,this.txFee=void 0,this.creationTxFee=void 0,this.minValidatorStake=void 0,this.minDelegatorStake=void 0,this.getBlockchainAlias=()=>{if("undefined"===typeof this.blockchainAlias){const t=this.core.getNetworkID();return t in h.Defaults.network&&this.blockchainID in h.Defaults.network[""+t]?(this.blockchainAlias=h.Defaults.network[""+t][this.blockchainID]["alias"],this.blockchainAlias):void 0}return this.blockchainAlias},this.setBlockchainAlias=t=>{this.blockchainAlias=t},this.getBlockchainID=()=>this.blockchainID,this.refreshBlockchainID=t=>{const e=this.core.getNetworkID();return"undefined"===typeof t&&"undefined"!==typeof h.Defaults.network[""+e]?(this.blockchainID=h.PlatformChainID,!0):"string"===typeof t&&(this.blockchainID=t,!0)},this.parseAddress=t=>{const e=this.getBlockchainAlias(),s=this.getBlockchainID();return y.parseAddress(t,s,e,c.PlatformVMConstants.ADDRESSLENGTH)},this.addressFromBuffer=t=>{const e=this.getBlockchainAlias()?this.getBlockchainAlias():this.getBlockchainID(),s="bech32";return x.bufferToType(t,s,this.core.getHRP(),e)},this.getAVAXAssetID=(t=!1)=>r(this,void 0,void 0,(function*(){if("undefined"===typeof this.AVAXAssetID||t){const t=yield this.getStakingAssetID();this.AVAXAssetID=y.cb58Decode(t)}return this.AVAXAssetID})),this.setAVAXAssetID=t=>{"string"===typeof t&&(t=y.cb58Decode(t)),this.AVAXAssetID=t},this.getDefaultTxFee=()=>this.core.getNetworkID()in h.Defaults.network?new o.default(h.Defaults.network[this.core.getNetworkID()]["P"]["txFee"]):new o.default(0),this.getTxFee=()=>("undefined"===typeof this.txFee&&(this.txFee=this.getDefaultTxFee()),this.txFee),this.getCreateSubnetTxFee=()=>this.core.getNetworkID()in h.Defaults.network?new o.default(h.Defaults.network[this.core.getNetworkID()]["P"]["createSubnetTx"]):new o.default(0),this.getCreateChainTxFee=()=>this.core.getNetworkID()in h.Defaults.network?new o.default(h.Defaults.network[this.core.getNetworkID()]["P"]["createChainTx"]):new o.default(0),this.setTxFee=t=>{this.txFee=t},this.getDefaultCreationTxFee=()=>this.core.getNetworkID()in h.Defaults.network?new o.default(h.Defaults.network[this.core.getNetworkID()]["P"]["creationTxFee"]):new o.default(0),this.getCreationTxFee=()=>("undefined"===typeof this.creationTxFee&&(this.creationTxFee=this.getDefaultCreationTxFee()),this.creationTxFee),this.setCreationTxFee=t=>{this.creationTxFee=t},this.keyChain=()=>this.keychain,this.newKeyChain=()=>{const t=this.getBlockchainAlias();return this.keychain=t?new d.KeyChain(this.core.getHRP(),t):new d.KeyChain(this.core.getHRP(),this.blockchainID),this.keychain},this.checkGooseEgg=(t,e=new o.default(0))=>r(this,void 0,void 0,(function*(){const s=yield this.getAVAXAssetID();let r=e.gt(new o.default(0))?e:t.getOutputTotal(s);const i=t.getBurn(s);return!(!i.lte(h.ONEAVAX.mul(new o.default(10)))&&!i.lte(r))})),this.getStakingAssetID=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("platform.getStakingAssetID");return t.data.result.assetID})),this.createBlockchain=(t,e,s,i,n,o,a)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,fxIDs:n,vmID:i,name:o,genesisData:a};"string"===typeof s?r.subnetID=s:"undefined"!==typeof s&&(r.subnetID=y.cb58Encode(s));const u=yield this.callMethod("platform.createBlockchain",r);return u.data.result.txID})),this.getBlockchainStatus=t=>r(this,void 0,void 0,(function*(){const e={blockchainID:t},s=yield this.callMethod("platform.getBlockchainStatus",e);return s.data.result.status})),this.getValidatorsAt=(t,e)=>r(this,void 0,void 0,(function*(){const s={height:t};"undefined"!==typeof e&&(s.subnetID=e);const r=yield this.callMethod("platform.getValidatorsAt",s);return r.data.result})),this.createAddress=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e},r=yield this.callMethod("platform.createAddress",s);return r.data.result.address})),this.getBalance=t=>r(this,void 0,void 0,(function*(){if("undefined"===typeof this.parseAddress(t))throw new m.AddressError("Error - PlatformVMAPI.getBalance: Invalid address format");const e={address:t},s=yield this.callMethod("platform.getBalance",e);return s.data.result})),this.listAddresses=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e},r=yield this.callMethod("platform.listAddresses",s);return r.data.result.addresses})),this.getCurrentValidators=(t,e)=>r(this,void 0,void 0,(function*(){const s={};"string"===typeof t?s.subnetID=t:"undefined"!==typeof t&&(s.subnetID=y.cb58Encode(t)),"undefined"!=typeof e&&e.length>0&&(s.nodeIDs=e);const r=yield this.callMethod("platform.getCurrentValidators",s);return r.data.result})),this.getPendingValidators=(t,e)=>r(this,void 0,void 0,(function*(){const s={};"string"===typeof t?s.subnetID=t:"undefined"!==typeof t&&(s.subnetID=y.cb58Encode(t)),"undefined"!=typeof e&&e.length>0&&(s.nodeIDs=e);const r=yield this.callMethod("platform.getPendingValidators",s);return r.data.result})),this.sampleValidators=(t,e)=>r(this,void 0,void 0,(function*(){const s={size:t.toString()};"string"===typeof e?s.subnetID=e:"undefined"!==typeof e&&(s.subnetID=y.cb58Encode(e));const r=yield this.callMethod("platform.sampleValidators",s);return r.data.result.validators})),this.addValidator=(t,e,s,i,n,o,a,u)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,nodeID:s,startTime:i.getTime()/1e3,endTime:n.getTime()/1e3,stakeAmount:o.toString(10),rewardAddress:a};"undefined"!==typeof u&&(r.delegationFeeRate=u.toString(10));const d=yield this.callMethod("platform.addValidator",r);return d.data.result.txID})),this.addSubnetValidator=(t,e,s,i,n,o,a)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,nodeID:s,startTime:n.getTime()/1e3,endTime:o.getTime()/1e3,weight:a};"string"===typeof i?r.subnetID=i:"undefined"!==typeof i&&(r.subnetID=y.cb58Encode(i));const u=yield this.callMethod("platform.addSubnetValidator",r);return u.data.result.txID})),this.addDelegator=(t,e,s,i,n,o,a)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,nodeID:s,startTime:i.getTime()/1e3,endTime:n.getTime()/1e3,stakeAmount:o.toString(10),rewardAddress:a},u=yield this.callMethod("platform.addDelegator",r);return u.data.result.txID})),this.createSubnet=(t,e,s,i)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,controlKeys:s,threshold:i},n=yield this.callMethod("platform.createSubnet",r);return n.data.result.txID?n.data.result.txID:n.data.result})),this.validatedBy=t=>r(this,void 0,void 0,(function*(){const e={blockchainID:t},s=yield this.callMethod("platform.validatedBy",e);return s.data.result.subnetID})),this.validates=t=>r(this,void 0,void 0,(function*(){const e={subnetID:t};"string"===typeof t?e.subnetID=t:"undefined"!==typeof t&&(e.subnetID=y.cb58Encode(t));const s=yield this.callMethod("platform.validates",e);return s.data.result.blockchainIDs})),this.getBlockchains=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("platform.getBlockchains");return t.data.result.blockchains})),this.exportAVAX=(t,e,s,i)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,to:i,amount:s.toString(10)},n=yield this.callMethod("platform.exportAVAX",r);return n.data.result.txID?n.data.result.txID:n.data.result})),this.importAVAX=(t,e,s,i)=>r(this,void 0,void 0,(function*(){const r={to:s,sourceChain:i,username:t,password:e},n=yield this.callMethod("platform.importAVAX",r);return n.data.result.txID?n.data.result.txID:n.data.result})),this.issueTx=t=>r(this,void 0,void 0,(function*(){let e="";if("string"===typeof t)e=t;else if(t instanceof n.Buffer){const s=new l.Tx;s.fromBuffer(t),e=s.toStringHex()}else{if(!(t instanceof l.Tx))throw new m.TransactionError("Error - platform.issueTx: provided tx is not expected type of string, Buffer, or Tx");e=t.toStringHex()}const s={tx:e.toString(),encoding:"hex"},r=yield this.callMethod("platform.issueTx",s);return r.data.result.txID})),this.getCurrentSupply=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("platform.getCurrentSupply");return new o.default(t.data.result.supply,10)})),this.getHeight=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("platform.getHeight");return new o.default(t.data.result.height,10)})),this.getMinStake=(t=!1)=>r(this,void 0,void 0,(function*(){if(!0!==t&&"undefined"!==typeof this.minValidatorStake&&"undefined"!==typeof this.minDelegatorStake)return{minValidatorStake:this.minValidatorStake,minDelegatorStake:this.minDelegatorStake};const e=yield this.callMethod("platform.getMinStake");return this.minValidatorStake=new o.default(e.data.result.minValidatorStake,10),this.minDelegatorStake=new o.default(e.data.result.minDelegatorStake,10),{minValidatorStake:this.minValidatorStake,minDelegatorStake:this.minDelegatorStake}})),this.getTotalStake=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("platform.getTotalStake");return new o.default(t.data.result.stake,10)})),this.getMaxStakeAmount=(t,e,s,i)=>r(this,void 0,void 0,(function*(){const r=(0,p.UnixNow)();if(s.gt(r)||i.lte(s))throw new m.TimeError("PlatformVMAPI.getMaxStakeAmount -- startTime must be in the past and endTime must come after startTime");const n={nodeID:e,startTime:s,endTime:i};"string"===typeof t?n.subnetID=t:"undefined"!==typeof t&&(n.subnetID=y.cb58Encode(t));const a=yield this.callMethod("platform.getMaxStakeAmount",n);return new o.default(a.data.result.amount,10)})),this.setMinStake=(t,e)=>{"undefined"!==typeof t&&(this.minValidatorStake=t),"undefined"!==typeof e&&(this.minDelegatorStake=e)},this.getStake=(t,e="hex")=>r(this,void 0,void 0,(function*(){const s={addresses:t,encoding:e},r=yield this.callMethod("platform.getStake",s);return{staked:new o.default(r.data.result.staked,10),stakedOutputs:r.data.result.stakedOutputs.map(t=>{const s=new I.TransferableOutput;let r;return r="cb58"===e?y.cb58Decode(t):n.Buffer.from(t.replace(/0x/g,""),"hex"),s.fromBuffer(r,2),s})}})),this.getSubnets=t=>r(this,void 0,void 0,(function*(){const e={};void 0!==typeof t&&(e.ids=t);const s=yield this.callMethod("platform.getSubnets",e);return s.data.result.subnets})),this.exportKey=(t,e,s)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,address:s},i=yield this.callMethod("platform.exportKey",r);return i.data.result.privateKey?i.data.result.privateKey:i.data.result})),this.importKey=(t,e,s)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,privateKey:s},i=yield this.callMethod("platform.importKey",r);return i.data.result.address?i.data.result.address:i.data.result})),this.getTx=(t,e="hex")=>r(this,void 0,void 0,(function*(){const s={txID:t,encoding:e},r=yield this.callMethod("platform.getTx",s);return r.data.result.tx?r.data.result.tx:r.data.result})),this.getTxStatus=(t,e=!0)=>r(this,void 0,void 0,(function*(){const s={txID:t,includeReason:e},r=yield this.callMethod("platform.getTxStatus",s);return r.data.result})),this.getUTXOs=(t,e,s=0,i,o,a="hex")=>r(this,void 0,void 0,(function*(){"string"===typeof t&&(t=[t]);const r={addresses:t,limit:s,encoding:a};"undefined"!==typeof i&&i&&(r.startIndex=i),"undefined"!==typeof e&&(r.sourceChain=e);const u=yield this.callMethod("platform.getUTXOs",r),d=new g.UTXOSet;let h=u.data.result.utxos;if(o&&"object"===typeof o){if(this.db.has(o.getName())){const t=this.db.get(o.getName());if(Array.isArray(t)){d.addArray(h);const e=new g.UTXOSet;e.addArray(t),e.mergeByRule(d,o.getMergeRule()),h=e.getAllUTXOStrings()}}this.db.set(o.getName(),h,o.getOverwrite())}if(h.length>0&&"0x"===h[0].substring(0,2)){const t=[];h.forEach(e=>{t.push(y.cb58Encode(new n.Buffer(e.slice(2),"hex")))}),d.addArray(t,!1)}else d.addArray(h,!1);return u.data.result.utxos=d,u.data.result.numFetched=parseInt(u.data.result.numFetched),u.data.result})),this.buildImportTx=(t,e,s,i,a,u,d,h=(0,p.UnixNow)(),c=new o.default(0),l=1)=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(i,"buildImportTx").map(t=>y.stringToAddress(t)),o=this._cleanAddressArray(a,"buildImportTx").map(t=>y.stringToAddress(t)),p=this._cleanAddressArray(u,"buildImportTx").map(t=>y.stringToAddress(t));let g=void 0;if("undefined"===typeof s)throw new m.ChainIdError("Error - PlatformVMAPI.buildImportTx: Source ChainID is undefined.");if("string"===typeof s)g=s,s=y.cb58Decode(s);else if(!(s instanceof n.Buffer))throw new m.ChainIdError("Error - PlatformVMAPI.buildImportTx: Invalid destinationChain type: "+typeof s);const I=yield(yield this.getUTXOs(e,g,0,void 0)).utxos,b=yield this.getAVAXAssetID();d instanceof f.PayloadBase&&(d=d.getPayload());const x=I.getAllUTXOs(),B=t.buildImportTx(this.core.getNetworkID(),y.cb58Decode(this.blockchainID),r,o,p,x,s,this.getTxFee(),b,d,h,c,l);if(!(yield this.checkGooseEgg(B)))throw new m.GooseEggCheckError("Failed Goose Egg Check");return B})),this.buildExportTx=(t,e,s,i,a,u,d,h=(0,p.UnixNow)(),c=new o.default(0),l=1)=>r(this,void 0,void 0,(function*(){let r={};if(i.map(t=>{r[t.split("-")[0]]=!0}),1!==Object.keys(r).length)throw new m.AddressError("Error - PlatformVMAPI.buildExportTx: To addresses must have the same chainID prefix.");if("undefined"===typeof s)throw new m.ChainIdError("Error - PlatformVMAPI.buildExportTx: Destination ChainID is undefined.");if("string"===typeof s)s=y.cb58Decode(s);else if(!(s instanceof n.Buffer))throw new m.ChainIdError("Error - PlatformVMAPI.buildExportTx: Invalid destinationChain type: "+typeof s);if(32!==s.length)throw new m.ChainIdError("Error - PlatformVMAPI.buildExportTx: Destination ChainID must be 32 bytes in length.");let o=[];i.map(t=>{o.push(y.stringToAddress(t))});const p=this._cleanAddressArray(a,"buildExportTx").map(t=>y.stringToAddress(t)),g=this._cleanAddressArray(u,"buildExportTx").map(t=>y.stringToAddress(t));d instanceof f.PayloadBase&&(d=d.getPayload());const I=yield this.getAVAXAssetID(),b=t.buildExportTx(this.core.getNetworkID(),y.cb58Decode(this.blockchainID),e,I,o,p,g,s,this.getTxFee(),I,d,h,c,l);if(!(yield this.checkGooseEgg(b)))throw new m.GooseEggCheckError("Failed Goose Egg Check");return b})),this.buildAddSubnetValidatorTx=(t,e,s,i,n,o,a,u,d,h=(0,p.UnixNow)(),c=[])=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(e,"buildAddSubnetValidatorTx").map(t=>y.stringToAddress(t)),l=this._cleanAddressArray(s,"buildAddSubnetValidatorTx").map(t=>y.stringToAddress(t));d instanceof f.PayloadBase&&(d=d.getPayload());const g=yield this.getAVAXAssetID(),m=(0,p.UnixNow)();if(n.lt(m)||o.lte(n))throw new Error("PlatformVMAPI.buildAddSubnetValidatorTx -- startTime must be in the future and endTime must come after startTime");const I=t.buildAddSubnetValidatorTx(this.core.getNetworkID(),y.cb58Decode(this.blockchainID),r,l,(0,p.NodeIDStringToBuffer)(i),n,o,a,u,this.getDefaultTxFee(),g,d,h,c);if(!(yield this.checkGooseEgg(I)))throw new Error("Failed Goose Egg Check");return I})),this.buildAddDelegatorTx=(t,e,s,i,n,a,u,d,h,c=new o.default(0),l=1,g,I=(0,p.UnixNow)())=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(e,"buildAddDelegatorTx").map(t=>y.stringToAddress(t)),b=this._cleanAddressArray(s,"buildAddDelegatorTx").map(t=>y.stringToAddress(t)),x=this._cleanAddressArray(i,"buildAddDelegatorTx").map(t=>y.stringToAddress(t)),B=this._cleanAddressArray(h,"buildAddDelegatorTx").map(t=>y.stringToAddress(t));g instanceof f.PayloadBase&&(g=g.getPayload());const D=(yield this.getMinStake())["minDelegatorStake"];if(d.lt(D))throw new m.StakeError("PlatformVMAPI.buildAddDelegatorTx -- stake amount must be at least "+D.toString(10));const T=yield this.getAVAXAssetID(),w=(0,p.UnixNow)();if(a.lt(w)||u.lte(a))throw new m.TimeError("PlatformVMAPI.buildAddDelegatorTx -- startTime must be in the future and endTime must come after startTime");const S=t.buildAddDelegatorTx(this.core.getNetworkID(),y.cb58Decode(this.blockchainID),T,r,b,x,(0,p.NodeIDStringToBuffer)(n),a,u,d,c,l,B,new o.default(0),T,g,I);if(!(yield this.checkGooseEgg(S)))throw new m.GooseEggCheckError("Failed Goose Egg Check");return S})),this.buildAddValidatorTx=(t,e,s,i,n,a,u,d,h,c,l=new o.default(0),g=1,I,b=(0,p.UnixNow)())=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(e,"buildAddValidatorTx").map(t=>y.stringToAddress(t)),x=this._cleanAddressArray(s,"buildAddValidatorTx").map(t=>y.stringToAddress(t)),B=this._cleanAddressArray(i,"buildAddValidatorTx").map(t=>y.stringToAddress(t)),D=this._cleanAddressArray(h,"buildAddValidatorTx").map(t=>y.stringToAddress(t));I instanceof f.PayloadBase&&(I=I.getPayload());const T=(yield this.getMinStake())["minValidatorStake"];if(d.lt(T))throw new m.StakeError("PlatformVMAPI.buildAddValidatorTx -- stake amount must be at least "+T.toString(10));if("number"!==typeof c||c>100||c<0)throw new m.DelegationFeeError("PlatformVMAPI.buildAddValidatorTx -- delegationFee must be a number between 0 and 100");const w=yield this.getAVAXAssetID(),S=(0,p.UnixNow)();if(a.lt(S)||u.lte(a))throw new m.TimeError("PlatformVMAPI.buildAddValidatorTx -- startTime must be in the future and endTime must come after startTime");const O=t.buildAddValidatorTx(this.core.getNetworkID(),y.cb58Decode(this.blockchainID),w,r,x,B,(0,p.NodeIDStringToBuffer)(n),a,u,d,l,g,D,c,new o.default(0),w,I,b);if(!(yield this.checkGooseEgg(O)))throw new m.GooseEggCheckError("Failed Goose Egg Check");return O})),this.buildCreateSubnetTx=(t,e,s,i,n,o,a=(0,p.UnixNow)())=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(e,"buildCreateSubnetTx").map(t=>y.stringToAddress(t)),u=this._cleanAddressArray(s,"buildCreateSubnetTx").map(t=>y.stringToAddress(t)),d=this._cleanAddressArray(i,"buildCreateSubnetTx").map(t=>y.stringToAddress(t));o instanceof f.PayloadBase&&(o=o.getPayload());const h=yield this.getAVAXAssetID(),c=this.core.getNetworkID(),l=y.cb58Decode(this.blockchainID),p=this.getCreateSubnetTxFee(),g=t.buildCreateSubnetTx(c,l,r,u,d,n,p,h,o,a);if(!(yield this.checkGooseEgg(g,this.getCreationTxFee())))throw new m.GooseEggCheckError("Failed Goose Egg Check");return g})),this.buildCreateChainTx=(t,e,s,i,n,o,a,u,d,h=(0,p.UnixNow)(),c=[])=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(e,"buildCreateChainTx").map(t=>y.stringToAddress(t)),l=this._cleanAddressArray(s,"buildCreateChainTx").map(t=>y.stringToAddress(t));d instanceof f.PayloadBase&&(d=d.getPayload());const p=yield this.getAVAXAssetID();a=a.sort();const g=this.core.getNetworkID(),I=y.cb58Decode(this.blockchainID),b=this.getCreateChainTxFee(),x=t.buildCreateChainTx(g,I,r,l,i,n,o,a,u,b,p,d,h,c);if(!(yield this.checkGooseEgg(x,this.getCreationTxFee())))throw new m.GooseEggCheckError("Failed Goose Egg Check");return x})),this.getTimestamp=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("platform.getTimestamp");return t.data.result.timestamp})),this.getRewardUTXOs=(t,e)=>r(this,void 0,void 0,(function*(){const s={txID:t,encoding:e},r=yield this.callMethod("platform.getRewardUTXOs",s);return r.data.result})),this.blockchainID=h.PlatformChainID;const s=t.getNetworkID();if(s in h.Defaults.network&&this.blockchainID in h.Defaults.network[""+s]){const t=h.Defaults.network[""+s][this.blockchainID]["alias"];this.keychain=new d.KeyChain(this.core.getHRP(),t)}else this.keychain=new d.KeyChain(this.core.getHRP(),this.blockchainID)}_cleanAddressArray(t,e){const s=[],r=this.getBlockchainAlias()?this.getBlockchainAlias():this.getBlockchainID();if(t&&t.length>0)for(let i=0;i<t.length;i++)if("string"===typeof t[""+i]){if("undefined"===typeof this.parseAddress(t[""+i]))throw new m.AddressError("Error - Invalid address format");s.push(t[""+i])}else{const e="bech32";s.push(x.bufferToType(t[""+i],e,this.core.getHRP(),r))}return s}}e.PlatformVMAPI=B},d504:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EVMStandardTx=e.EVMStandardUnsignedTx=e.EVMStandardBaseTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("399f")),a=s("67f8"),u=s("2555"),d=s("353c"),h=s("c054"),c=n.default.getInstance(),l=h.Serialization.getInstance();class f extends h.Serializable{constructor(t=d.DefaultNetworkID,e=i.Buffer.alloc(32,16)){super(),this._typeName="EVMStandardBaseTx",this._typeID=void 0,this.networkID=i.Buffer.alloc(4),this.blockchainID=i.Buffer.alloc(32),this.networkID.writeUInt32BE(t,0),this.blockchainID=e}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{networkID:l.encoder(this.networkID,t,"Buffer","decimalString"),blockchainID:l.encoder(this.blockchainID,t,"Buffer","cb58")})}deserialize(t,e="hex"){super.deserialize(t,e),this.networkID=l.decoder(t["networkID"],e,"decimalString","Buffer",4),this.blockchainID=l.decoder(t["blockchainID"],e,"cb58","Buffer",32)}getNetworkID(){return this.networkID.readUInt32BE(0)}getBlockchainID(){return this.blockchainID}toBuffer(){let t=this.networkID.length+this.blockchainID.length;const e=[this.networkID,this.blockchainID],s=i.Buffer.concat(e,t);return s}toString(){return c.bufferToB58(this.toBuffer())}}e.EVMStandardBaseTx=f;class p extends h.Serializable{constructor(t,e=0){super(),this._typeName="StandardUnsignedTx",this._typeID=void 0,this.codecID=0,this.codecID=e,this.transaction=t}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{codecID:l.encoder(this.codecID,t,"number","decimalString",2),transaction:this.transaction.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.codecID=l.decoder(t["codecID"],e,"decimalString","number")}getCodecID(){return this.codecID}getCodecIDBuffer(){let t=i.Buffer.alloc(2);return t.writeUInt16BE(this.codecID,0),t}getInputTotal(t){const e=[],s=t.toString("hex");let r=new o.default(0);return e.forEach(t=>{if(t.getInput()instanceof a.StandardAmountInput&&s===t.getAssetID().toString("hex")){const e=t.getInput();r=r.add(e.getAmount())}}),r}getOutputTotal(t){const e=[],s=t.toString("hex");let r=new o.default(0);return e.forEach(t=>{if(t.getOutput()instanceof u.StandardAmountOutput&&s===t.getAssetID().toString("hex")){const e=t.getOutput();r=r.add(e.getAmount())}}),r}getBurn(t){return this.getInputTotal(t).sub(this.getOutputTotal(t))}toBuffer(){const t=this.getCodecIDBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.transaction.getTxType(),0);const s=this.transaction.toBuffer();return i.Buffer.concat([t,e,s],t.length+e.length+s.length)}}e.EVMStandardUnsignedTx=p;class g extends h.Serializable{constructor(t,e){super(),this._typeName="StandardTx",this._typeID=void 0,this.unsignedTx=void 0,this.credentials=[],"undefined"!==typeof t&&(this.unsignedTx=t,"undefined"!==typeof e&&(this.credentials=e))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{unsignedTx:this.unsignedTx.serialize(t),credentials:this.credentials.map(e=>e.serialize(t))})}getUnsignedTx(){return this.unsignedTx}toBuffer(){const t=this.unsignedTx.toBuffer();let e=t.length;const s=i.Buffer.alloc(4);s.writeUInt32BE(this.credentials.length,0);const r=[t,s];e+=s.length,this.credentials.forEach(t=>{const s=i.Buffer.alloc(4);s.writeUInt32BE(t.getCredentialID(),0),r.push(s),e+=s.length;const n=t.toBuffer();e+=n.length,r.push(n)});const n=i.Buffer.concat(r,e);return n}fromString(t){return this.fromBuffer(c.cb58Decode(t))}toString(){return c.cb58Encode(this.toBuffer())}toStringHex(){return"0x"+c.addChecksum(this.toBuffer()).toString("hex")}}e.EVMStandardTx=g},d7cd:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExportTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("1c53"),u=s("f14b"),d=s("353c"),h=r(s("399f")),c=s("c054"),l=s("4163"),f=n.default.getInstance(),p=c.Serialization.getInstance();class g extends u.BaseTx{constructor(t=d.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n,u,h){if(super(t,e,s,r,n),this._typeName="ExportTx",this._typeID=o.PlatformVMConstants.EXPORTTX,this.destinationChain=i.Buffer.alloc(32),this.numOuts=i.Buffer.alloc(4),this.exportOuts=[],this.destinationChain=u,"undefined"!==typeof h&&Array.isArray(h)){for(let t=0;t<h.length;t++)if(!(h[""+t]instanceof a.TransferableOutput))throw new l.TransferableOutputError("Error - ExportTx.constructor: invalid TransferableOutput in array parameter 'exportOuts'");this.exportOuts=h}}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{destinationChain:p.encoder(this.destinationChain,t,"Buffer","cb58"),exportOuts:this.exportOuts.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.destinationChain=p.decoder(t["destinationChain"],e,"cb58","Buffer",32),this.exportOuts=t["exportOuts"].map(t=>{let s=new a.TransferableOutput;return s.deserialize(t,e),s}),this.numOuts=i.Buffer.alloc(4),this.numOuts.writeUInt32BE(this.exportOuts.length,0)}getTxType(){return o.PlatformVMConstants.EXPORTTX}getExportOutputs(){return this.exportOuts}getExportTotal(){let t=new h.default(0);for(let e=0;e<this.exportOuts.length;e++)t=t.add(this.exportOuts[""+e].getOutput().getAmount());return t}getTotalOuts(){return[...this.getOuts(),...this.getExportOutputs()]}getDestinationChain(){return this.destinationChain}fromBuffer(t,e=0){e=super.fromBuffer(t,e),this.destinationChain=f.copyFrom(t,e,e+32),e+=32,this.numOuts=f.copyFrom(t,e,e+4),e+=4;const s=this.numOuts.readUInt32BE(0);for(let r=0;r<s;r++){const s=new a.TransferableOutput;e=s.fromBuffer(t,e),this.exportOuts.push(s)}return e}toBuffer(){if("undefined"===typeof this.destinationChain)throw new l.ChainIdError("ExportTx.toBuffer -- this.destinationChain is undefined");this.numOuts.writeUInt32BE(this.exportOuts.length,0);let t=[super.toBuffer(),this.destinationChain,this.numOuts];this.exportOuts=this.exportOuts.sort(a.TransferableOutput.comparator());for(let e=0;e<this.exportOuts.length;e++)t.push(this.exportOuts[""+e].toBuffer());return i.Buffer.concat(t)}clone(){let t=new g;return t.fromBuffer(this.toBuffer()),t}create(...t){return new g(...t)}}e.ExportTx=g},e337:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(e,s);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,i)}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("d064"),e)},e549:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tx=e.UnsignedTx=e.SelectTxClass=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("f022"),u=s("ebf0"),d=r(s("98e6")),h=s("f14b"),c=s("8918"),l=s("d7cd"),f=s("0b32"),p=s("5ab8"),g=s("4163"),m=n.default.getInstance(),I=(t,...e)=>{if(t===o.PlatformVMConstants.BASETX)return new h.BaseTx(...e);if(t===o.PlatformVMConstants.IMPORTTX)return new c.ImportTx(...e);if(t===o.PlatformVMConstants.EXPORTTX)return new l.ExportTx(...e);if(t===o.PlatformVMConstants.ADDDELEGATORTX)return new f.AddDelegatorTx(...e);if(t===o.PlatformVMConstants.ADDVALIDATORTX)return new f.AddValidatorTx(...e);if(t===o.PlatformVMConstants.CREATESUBNETTX)return new p.CreateSubnetTx(...e);throw new g.TransactionError("Error - SelectTxClass: unknown txtype")};e.SelectTxClass=I;class b extends u.StandardUnsignedTx{constructor(){super(...arguments),this._typeName="UnsignedTx",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.transaction=(0,e.SelectTxClass)(t["transaction"]["_typeID"]),this.transaction.deserialize(t["transaction"],s)}getTransaction(){return this.transaction}fromBuffer(t,s=0){this.codecID=m.copyFrom(t,s,s+2).readUInt16BE(0),s+=2;const r=m.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.transaction=(0,e.SelectTxClass)(r),this.transaction.fromBuffer(t,s)}sign(t){const e=this.toBuffer(),s=i.Buffer.from((0,d.default)("sha256").update(e).digest()),r=this.transaction.sign(s,t);return new y(this,r)}}e.UnsignedTx=b;class y extends u.StandardTx{constructor(){super(...arguments),this._typeName="Tx",this._typeID=void 0}deserialize(t,e="hex"){super.deserialize(t,e),this.unsignedTx=new b,this.unsignedTx.deserialize(t["unsignedTx"],e),this.credentials=[];for(let s=0;s<t["credentials"].length;s++){const r=(0,a.SelectCredentialClass)(t["credentials"][""+s]["_typeID"]);r.deserialize(t["credentials"][""+s],e),this.credentials.push(r)}}fromBuffer(t,e=0){this.unsignedTx=new b,e=this.unsignedTx.fromBuffer(t,e);const s=m.copyFrom(t,e,e+4).readUInt32BE(0);e+=4,this.credentials=[];for(let r=0;r<s;r++){const s=m.copyFrom(t,e,e+4).readUInt32BE(0);e+=4;const r=(0,a.SelectCredentialClass)(s);e=r.fromBuffer(t,e),this.credentials.push(r)}return e}}e.Tx=y},e7e8:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformVMConstants=void 0;class r{}e.PlatformVMConstants=r,r.LATESTCODEC=0,r.SECPFXID=0,r.SECPXFEROUTPUTID=7,r.SUBNETAUTHID=10,r.SECPOWNEROUTPUTID=11,r.STAKEABLELOCKOUTID=22,r.SECPINPUTID=5,r.STAKEABLELOCKINID=21,r.LOCKEDSTAKEABLES=[r.STAKEABLELOCKINID,r.STAKEABLELOCKOUTID],r.BASETX=0,r.SUBNETAUTH=10,r.ADDVALIDATORTX=12,r.ADDSUBNETVALIDATORTX=13,r.ADDDELEGATORTX=14,r.CREATECHAINTX=15,r.CREATESUBNETTX=16,r.IMPORTTX=17,r.EXPORTTX=18,r.ADVANCETIMETX=19,r.REWARDVALIDATORTX=20,r.SECPCREDENTIAL=9,r.ASSETIDLEN=32,r.BLOCKCHAINIDLEN=32,r.SYMBOLMAXLEN=4,r.ASSETNAMELEN=128,r.ADDRESSLENGTH=20},ebf0:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardTx=e.StandardUnsignedTx=e.StandardBaseTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("399f")),a=s("67f8"),u=s("2555"),d=s("353c"),h=s("c054"),c=n.default.getInstance(),l=h.Serialization.getInstance(),f="cb58",p="hex",g="decimalString",m="Buffer";class I extends h.Serializable{constructor(t=d.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n){super(),this._typeName="StandardBaseTx",this._typeID=void 0,this.networkID=i.Buffer.alloc(4),this.blockchainID=i.Buffer.alloc(32),this.numouts=i.Buffer.alloc(4),this.numins=i.Buffer.alloc(4),this.memo=i.Buffer.alloc(0),this.networkID.writeUInt32BE(t,0),this.blockchainID=e,"undefined"!=typeof n&&(this.memo=n),"undefined"!==typeof r&&"undefined"!==typeof s&&(this.numouts.writeUInt32BE(s.length,0),this.outs=s.sort(u.StandardTransferableOutput.comparator()),this.numins.writeUInt32BE(r.length,0),this.ins=r.sort(a.StandardTransferableInput.comparator()))}serialize(t="hex"){const e=super.serialize(t);return Object.assign(Object.assign({},e),{networkID:l.encoder(this.networkID,t,m,g),blockchainID:l.encoder(this.blockchainID,t,m,f),outs:this.outs.map(e=>e.serialize(t)),ins:this.ins.map(e=>e.serialize(t)),memo:l.encoder(this.memo,t,m,p)})}deserialize(t,e="hex"){super.deserialize(t,e),this.networkID=l.decoder(t["networkID"],e,g,m,4),this.blockchainID=l.decoder(t["blockchainID"],e,f,m,32),this.memo=l.decoder(t["memo"],e,p,m)}getNetworkID(){return this.networkID.readUInt32BE(0)}getBlockchainID(){return this.blockchainID}getMemo(){return this.memo}toBuffer(){this.outs.sort(u.StandardTransferableOutput.comparator()),this.ins.sort(a.StandardTransferableInput.comparator()),this.numouts.writeUInt32BE(this.outs.length,0),this.numins.writeUInt32BE(this.ins.length,0);let t=this.networkID.length+this.blockchainID.length+this.numouts.length;const e=[this.networkID,this.blockchainID,this.numouts];for(let i=0;i<this.outs.length;i++){const s=this.outs[""+i].toBuffer();e.push(s),t+=s.length}e.push(this.numins),t+=this.numins.length;for(let i=0;i<this.ins.length;i++){const s=this.ins[""+i].toBuffer();e.push(s),t+=s.length}let s=i.Buffer.alloc(4);s.writeUInt32BE(this.memo.length,0),e.push(s),t+=4,e.push(this.memo),t+=this.memo.length;const r=i.Buffer.concat(e,t);return r}toString(){return c.bufferToB58(this.toBuffer())}toStringHex(){return"0x"+c.addChecksum(this.toBuffer()).toString("hex")}}e.StandardBaseTx=I;class b extends h.Serializable{constructor(t,e=0){super(),this._typeName="StandardUnsignedTx",this._typeID=void 0,this.codecID=0,this.codecID=e,this.transaction=t}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{codecID:l.encoder(this.codecID,t,"number","decimalString",2),transaction:this.transaction.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.codecID=l.decoder(t["codecID"],e,"decimalString","number")}getCodecID(){return this.codecID}getCodecIDBuffer(){let t=i.Buffer.alloc(2);return t.writeUInt16BE(this.codecID,0),t}getInputTotal(t){const e=this.getTransaction().getIns(),s=t.toString("hex");let r=new o.default(0);for(let i=0;i<e.length;i++)if(e[""+i].getInput()instanceof a.StandardAmountInput&&s===e[""+i].getAssetID().toString("hex")){const t=e[""+i].getInput();r=r.add(t.getAmount())}return r}getOutputTotal(t){const e=this.getTransaction().getTotalOuts(),s=t.toString("hex");let r=new o.default(0);for(let i=0;i<e.length;i++)if(e[""+i].getOutput()instanceof u.StandardAmountOutput&&s===e[""+i].getAssetID().toString("hex")){const t=e[""+i].getOutput();r=r.add(t.getAmount())}return r}getBurn(t){return this.getInputTotal(t).sub(this.getOutputTotal(t))}toBuffer(){const t=i.Buffer.alloc(2);t.writeUInt16BE(this.transaction.getCodecID(),0);const e=i.Buffer.alloc(4);e.writeUInt32BE(this.transaction.getTxType(),0);const s=this.transaction.toBuffer();return i.Buffer.concat([t,e,s],t.length+e.length+s.length)}}e.StandardUnsignedTx=b;class y extends h.Serializable{constructor(t,e){super(),this._typeName="StandardTx",this._typeID=void 0,this.unsignedTx=void 0,this.credentials=[],"undefined"!==typeof t&&(this.unsignedTx=t,"undefined"!==typeof e&&(this.credentials=e))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{unsignedTx:this.unsignedTx.serialize(t),credentials:this.credentials.map(e=>e.serialize(t))})}getCredentials(){return this.credentials}getUnsignedTx(){return this.unsignedTx}toBuffer(){const t=this.unsignedTx.getTransaction(),e=t.getCodecID(),s=this.unsignedTx.toBuffer();let r=s.length;const n=i.Buffer.alloc(4);n.writeUInt32BE(this.credentials.length,0);const o=[s,n];r+=n.length;for(let u=0;u<this.credentials.length;u++){this.credentials[""+u].setCodecID(e);const t=i.Buffer.alloc(4);t.writeUInt32BE(this.credentials[""+u].getCredentialID(),0),o.push(t),r+=t.length;const s=this.credentials[""+u].toBuffer();r+=s.length,o.push(s)}const a=i.Buffer.concat(o,r);return a}fromString(t){return this.fromBuffer(c.cb58Decode(t))}toString(){return c.cb58Encode(this.toBuffer())}toStringHex(){return"0x"+c.addChecksum(this.toBuffer()).toString("hex")}}e.StandardTx=y},ec51:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Credential=e.Signature=e.SigIdx=void 0;const i=s("286d"),n=s("1c35"),o=r(s("b8ec")),a=s("c054"),u=o.default.getInstance(),d=a.Serialization.getInstance();class h extends i.NBytes{constructor(){super(),this._typeName="SigIdx",this._typeID=void 0,this.source=n.Buffer.alloc(20),this.bytes=n.Buffer.alloc(4),this.bsize=4,this.setSource=t=>{this.source=t},this.getSource=()=>this.source}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{source:d.encoder(this.source,t,"Buffer","hex")})}deserialize(t,e="hex"){super.deserialize(t,e),this.source=d.decoder(t["source"],e,"hex","Buffer")}clone(){let t=new h;return t.fromBuffer(this.toBuffer()),t}create(...t){return new h}}e.SigIdx=h;class c extends i.NBytes{constructor(){super(),this._typeName="Signature",this._typeID=void 0,this.bytes=n.Buffer.alloc(65),this.bsize=65}clone(){let t=new c;return t.fromBuffer(this.toBuffer()),t}create(...t){return new c}}e.Signature=c;class l extends a.Serializable{constructor(t){super(),this._typeName="Credential",this._typeID=void 0,this.sigArray=[],this.addSignature=t=>(this.sigArray.push(t),this.sigArray.length-1),"undefined"!==typeof t&&(this.sigArray=t)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{sigArray:this.sigArray.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.sigArray=t["sigArray"].map(t=>{let s=new c;return s.deserialize(t,e),s})}setCodecID(t){}fromBuffer(t,e=0){const s=u.copyFrom(t,e,e+4).readUInt32BE(0);e+=4,this.sigArray=[];for(let r=0;r<s;r++){const s=new c;e=s.fromBuffer(t,e),this.sigArray.push(s)}return e}toBuffer(){const t=n.Buffer.alloc(4);t.writeInt32BE(this.sigArray.length,0);const e=[t];let s=t.length;for(let r=0;r<this.sigArray.length;r++){const t=this.sigArray[""+r].toBuffer();s+=t.length,e.push(t)}return n.Buffer.concat(e,s)}}e.Credential=l},ed29:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CreateChainTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("ec51"),u=s("f14b"),d=s("353c"),h=s("c054"),c=s("c59b"),l=n.default.getInstance(),f=h.Serialization.getInstance();class p extends u.BaseTx{constructor(t=d.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n,a,u,h,f,p){if(super(t,e,s,r,n),this._typeName="CreateChainTx",this._typeID=o.PlatformVMConstants.CREATECHAINTX,this.subnetID=i.Buffer.alloc(32),this.chainName="",this.vmID=i.Buffer.alloc(32),this.numFXIDs=i.Buffer.alloc(4),this.fxIDs=[],this.genesisData=i.Buffer.alloc(32),this.sigCount=i.Buffer.alloc(4),this.sigIdxs=[],"undefined"!=typeof a&&(this.subnetID="string"===typeof a?l.cb58Decode(a):a),"undefined"!=typeof u&&(this.chainName=u),"undefined"!=typeof h){const t=i.Buffer.alloc(32);t.write(h,0,h.length),this.vmID=t}if("undefined"!=typeof f){this.numFXIDs.writeUInt32BE(f.length,0);const t=[];f.forEach(e=>{const s=i.Buffer.alloc(32);s.write(e,0,e.length,"utf8"),t.push(s)}),this.fxIDs=t}"undefined"!=typeof p&&"string"!=typeof p?this.genesisData=p.toBuffer():"string"==typeof p&&(this.genesisData=i.Buffer.from(p));const g=new c.SubnetAuth;this.subnetAuth=g}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{subnetID:f.encoder(this.subnetID,t,"Buffer","cb58")})}deserialize(t,e="hex"){super.deserialize(t,e),this.subnetID=f.decoder(t["subnetID"],e,"cb58","Buffer",32)}getTxType(){return o.PlatformVMConstants.CREATECHAINTX}getSubnetAuth(){return this.subnetAuth}getSubnetID(){return l.cb58Encode(this.subnetID)}getChainName(){return this.chainName}getVMID(){return this.vmID}getFXIDs(){return this.fxIDs}getGenesisData(){return l.cb58Encode(this.genesisData)}fromBuffer(t,e=0){e=super.fromBuffer(t,e),this.subnetID=l.copyFrom(t,e,e+32),e+=32;const s=l.copyFrom(t,e,e+2).readUInt16BE(0);e+=2,this.chainName=l.copyFrom(t,e,e+s).toString("utf8"),e+=s,this.vmID=l.copyFrom(t,e,e+32),e+=32,this.numFXIDs=l.copyFrom(t,e,e+4),e+=4;const r=parseInt(this.numFXIDs.toString("hex"),10);for(let o=0;o<r;o++)this.fxIDs.push(l.copyFrom(t,e,e+32)),e+=32;const i=l.copyFrom(t,e,e+4).readUInt32BE(0);e+=4,this.genesisData=l.copyFrom(t,e,e+i),e+=i;const n=new c.SubnetAuth;return e+=n.fromBuffer(l.copyFrom(t,e)),this.subnetAuth=n,e}toBuffer(){const t=super.toBuffer(),e=i.Buffer.alloc(this.chainName.length);e.write(this.chainName,0,this.chainName.length,"utf8");const s=i.Buffer.alloc(2);s.writeUIntBE(this.chainName.length,0,2);let r=t.length+this.subnetID.length+s.length+e.length+this.vmID.length+this.numFXIDs.length;const n=[t,this.subnetID,s,e,this.vmID,this.numFXIDs];this.fxIDs.forEach(t=>{r+=t.length,n.push(t)}),r+=4,r+=this.genesisData.length;const o=i.Buffer.alloc(4);return o.writeUIntBE(this.genesisData.length,0,4),n.push(o),n.push(this.genesisData),r+=this.subnetAuth.toBuffer().length,n.push(this.subnetAuth.toBuffer()),i.Buffer.concat(n,r)}clone(){const t=new p;return t.fromBuffer(this.toBuffer()),t}create(...t){return new p(...t)}addSignatureIdx(t,e){const s=i.Buffer.alloc(4);s.writeUIntBE(t,0,4),this.subnetAuth.addAddressIndex(s);const r=new a.SigIdx,n=i.Buffer.alloc(4);n.writeUInt32BE(t,0),r.fromBuffer(n),r.setSource(e),this.sigIdxs.push(r),this.sigCount.writeUInt32BE(this.sigIdxs.length,0)}getSigIdxs(){return this.sigIdxs}getCredentialID(){return o.PlatformVMConstants.SECPCREDENTIAL}sign(t,e){const s=super.sign(t,e),r=this.getSigIdxs(),i=(0,c.SelectCredentialClass)(this.getCredentialID());for(let n=0;n<r.length;n++){const s=e.getKey(r[""+n].getSource()),o=s.sign(t),u=new a.Signature;u.fromBuffer(o),i.addSignature(u)}return s.push(i),s}}e.CreateChainTx=p},f022:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SECPCredential=e.SelectCredentialClass=void 0;const r=s("e7e8"),i=s("ec51"),n=s("4163"),o=(t,...e)=>{if(t===r.PlatformVMConstants.SECPCREDENTIAL)return new a(...e);throw new n.CredIdError("Error - SelectCredentialClass: unknown credid")};e.SelectCredentialClass=o;class a extends i.Credential{constructor(){super(...arguments),this._typeName="SECPCredential",this._typeID=r.PlatformVMConstants.SECPCREDENTIAL}getCredentialID(){return this._typeID}clone(){let t=new a;return t.fromBuffer(this.toBuffer()),t}create(...t){return new a(...t)}select(t,...s){let r=(0,e.SelectCredentialClass)(t,...s);return r}}e.SECPCredential=a},f14b:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("1c53"),u=s("872c"),d=s("f022"),h=s("ebf0"),c=s("ec51"),l=s("353c"),f=s("e549"),p=n.default.getInstance();class g extends h.StandardBaseTx{constructor(t=l.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n){super(t,e,s,r,n),this._typeName="BaseTx",this._typeID=o.PlatformVMConstants.CREATESUBNETTX}deserialize(t,e="hex"){super.deserialize(t,e),this.outs=t["outs"].map(t=>{let s=new a.TransferableOutput;return s.deserialize(t,e),s}),this.ins=t["ins"].map(t=>{let s=new u.TransferableInput;return s.deserialize(t,e),s}),this.numouts=i.Buffer.alloc(4),this.numouts.writeUInt32BE(this.outs.length,0),this.numins=i.Buffer.alloc(4),this.numins.writeUInt32BE(this.ins.length,0)}getOuts(){return this.outs}getIns(){return this.ins}getTotalOuts(){return this.getOuts()}getTxType(){return o.PlatformVMConstants.BASETX}fromBuffer(t,e=0){this.networkID=p.copyFrom(t,e,e+4),e+=4,this.blockchainID=p.copyFrom(t,e,e+32),e+=32,this.numouts=p.copyFrom(t,e,e+4),e+=4;const s=this.numouts.readUInt32BE(0);this.outs=[];for(let n=0;n<s;n++){const s=new a.TransferableOutput;e=s.fromBuffer(t,e),this.outs.push(s)}this.numins=p.copyFrom(t,e,e+4),e+=4;const r=this.numins.readUInt32BE(0);this.ins=[];for(let n=0;n<r;n++){const s=new u.TransferableInput;e=s.fromBuffer(t,e),this.ins.push(s)}let i=p.copyFrom(t,e,e+4).readUInt32BE(0);return e+=4,this.memo=p.copyFrom(t,e,e+i),e+=i,e}sign(t,e){const s=[];for(let r=0;r<this.ins.length;r++){const i=(0,d.SelectCredentialClass)(this.ins[""+r].getInput().getCredentialID()),n=this.ins[""+r].getInput().getSigIdxs();for(let s=0;s<n.length;s++){const r=e.getKey(n[""+s].getSource()),o=r.sign(t),a=new c.Signature;a.fromBuffer(o),i.addSignature(a)}s.push(i)}return s}clone(){let t=new g;return t.fromBuffer(this.toBuffer()),t}create(...t){return new g(...t)}select(t,...e){let s=(0,f.SelectTxClass)(t,...e);return s}}e.BaseTx=g},f331:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.RESTAPI=void 0;const i=s("5af3");class n extends i.APIBase{constructor(t,e,s="application/json;charset=UTF-8",i){super(t,e),this.prepHeaders=(t,e)=>{const s={};return s["Content-Type"]=void 0!==t?t:this.contentType,void 0!==e?s["Accept"]=e:void 0!==this.acceptType&&(s["Accept"]=this.acceptType),s},this.axConf=()=>({baseURL:this.core.getURL(),responseType:"json"}),this.get=(t,e,s)=>r(this,void 0,void 0,(function*(){const r=t||this.baseURL,i=this.prepHeaders(e,s),n=yield this.core.get(r,{},i,this.axConf());return n})),this.post=(t,e,s,i,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseURL,o={};o.method=t,e&&(o.params=e);const a=this.prepHeaders(i,n),u=yield this.core.post(r,{},JSON.stringify(o),a,this.axConf());return u})),this.put=(t,e,s,i,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseURL,o={};o.method=t,e&&(o.params=e);const a=this.prepHeaders(i,n),u=yield this.core.put(r,{},JSON.stringify(o),a,this.axConf());return u})),this.delete=(t,e,s,i,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseURL,o={};o.method=t,e&&(o.params=e);const a=this.prepHeaders(i,n),u=yield this.core.delete(r,{},a,this.axConf());return u})),this.patch=(t,e,s,i,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseURL,o={};o.method=t,e&&(o.params=e);const a=this.prepHeaders(i,n),u=yield this.core.patch(r,{},JSON.stringify(o),a,this.axConf());return u})),this.getContentType=()=>this.contentType,this.getAcceptType=()=>this.acceptType,this.contentType=s,this.acceptType=i}}e.RESTAPI=n},f89e:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.IndexAPI=void 0;const i=s("13ee");class n extends i.JRPCAPI{constructor(t,e="/ext/index/X/tx"){super(t,e),this.getLastAccepted=(t="hex",e=this.getBaseURL())=>r(this,void 0,void 0,(function*(){this.setBaseURL(e);const s={encoding:t};try{const t=yield this.callMethod("index.getLastAccepted",s);return t.data.result}catch(r){console.log(r)}})),this.getContainerByIndex=(t="0",e="hex",s=this.getBaseURL())=>r(this,void 0,void 0,(function*(){this.setBaseURL(s);const r={index:t,encoding:e};try{const t=yield this.callMethod("index.getContainerByIndex",r);return t.data.result}catch(i){console.log(i)}})),this.getContainerByID=(t="0",e="hex",s=this.getBaseURL())=>r(this,void 0,void 0,(function*(){this.setBaseURL(s);const r={containerID:t,encoding:e};try{const t=yield this.callMethod("index.getContainerByID",r);return t.data.result}catch(i){console.log(i)}})),this.getContainerRange=(t=0,e=100,s="hex",i=this.getBaseURL())=>r(this,void 0,void 0,(function*(){this.setBaseURL(i);const r={startIndex:t,numToFetch:e,encoding:s};try{const t=yield this.callMethod("index.getContainerRange",r);return t.data.result}catch(n){console.log(n)}})),this.getIndex=(t="",e="hex",s=this.getBaseURL())=>r(this,void 0,void 0,(function*(){this.setBaseURL(s);const r={containerID:t,encoding:e};try{const t=yield this.callMethod("index.getIndex",r);return t.data.result.index}catch(i){console.log(i)}})),this.isAccepted=(t="",e="hex",s=this.getBaseURL())=>r(this,void 0,void 0,(function*(){this.setBaseURL(s);const r={containerID:t,encoding:e};try{const t=yield this.callMethod("index.isAccepted",r);return t.data.result}catch(i){console.log(i)}}))}}e.IndexAPI=n},fbcd:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.KeystoreAPI=void 0;const i=s("13ee");class n extends i.JRPCAPI{constructor(t,e="/ext/keystore"){super(t,e),this.createUser=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e},r=yield this.callMethod("keystore.createUser",s);return r.data.result.success?r.data.result.success:r.data.result})),this.exportUser=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e},r=yield this.callMethod("keystore.exportUser",s);return r.data.result.user?r.data.result.user:r.data.result})),this.importUser=(t,e,s)=>r(this,void 0,void 0,(function*(){const r={username:t,user:e,password:s},i=yield this.callMethod("keystore.importUser",r);return i.data.result.success?i.data.result.success:i.data.result})),this.listUsers=()=>r(this,void 0,void 0,(function*(){const t=yield this.callMethod("keystore.listUsers");return t.data.result.users})),this.deleteUser=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e},r=yield this.callMethod("keystore.deleteUser",s);return r.data.result.success?r.data.result.success:r.data.result}))}}e.KeystoreAPI=n}}]);